/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.openlatticeAccessRequest=t():e.openlatticeAccessRequest=t()}(self,(function(){return(()=>{var e={6419:(e,t,n)=>{e.exports=n(9330)},1511:(e,t,n)=>{e.exports=n(9718)},7766:(e,t,n)=>{e.exports=n(7010)},62:(e,t,n)=>{e.exports=n(973)},116:(e,t,n)=>{e.exports=n(1672)},8914:(e,t,n)=>{e.exports=n(2142)},8580:(e,t,n)=>{e.exports=n(5001)},1643:(e,t,n)=>{e.exports=n(3769)},2991:(e,t,n)=>{e.exports=n(3919)},2366:(e,t,n)=>{e.exports=n(9871)},3649:(e,t,n)=>{e.exports=n(8646)},2762:(e,t,n)=>{e.exports=n(9874)},9828:(e,t,n)=>{e.exports=n(6214)},9340:(e,t,n)=>{e.exports=n(4098)},368:(e,t,n)=>{e.exports=n(7833)},3978:(e,t,n)=>{e.exports=n(2598)},6295:(e,t,n)=>{e.exports=n(1135)},4074:(e,t,n)=>{e.exports=n(9091)},9649:(e,t,n)=>{e.exports=n(9389)},4310:(e,t,n)=>{e.exports=n(3143)},6902:(e,t,n)=>{e.exports=n(6986)},455:(e,t,n)=>{e.exports=n(9027)},1068:(e,t,n)=>{e.exports=n(4471)},3592:(e,t,n)=>{e.exports=n(9387)},8363:(e,t,n)=>{e.exports=n(1801)},6976:(e,t,n)=>{e.exports=n(659)},5683:(e,t,n)=>{e.exports=n(4502)},5238:(e,t,n)=>{e.exports=n(3085)},8317:(e,t,n)=>{e.exports=n(1021)},189:(e,t,n)=>{e.exports=n(8639)},4341:(e,t,n)=>{e.exports=n(9219)},3263:(e,t,n)=>{e.exports=n(3800)},4889:(e,t,n)=>{e.exports=n(5347)},9356:(e,t,n)=>{e.exports=n(4785)},9542:(e,t,n)=>{e.exports=n(9402)},1446:(e,t,n)=>{e.exports=n(8564)},3882:(e,t,n)=>{e.exports=n(1882)},3109:(e,t,n)=>{e.exports=n(6512)},7116:function(e,t,n){var r,a;"undefined"!=typeof self&&self,e.exports=(r=n(9297),a=n(2268),function(){"use strict";var e={629:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useReactToPrint=t.PrintContextConsumer=void 0;var r=n(655),a=n(297),i=n(268),o=Object.prototype.hasOwnProperty.call(a,"createContext"),s=Object.prototype.hasOwnProperty.call(a,"useMemo")&&Object.prototype.hasOwnProperty.call(a,"useCallback"),c=o?a.createContext({}):null;t.PrintContextConsumer=c?c.Consumer:function(){return null};var u={copyStyles:!0,pageStyle:"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }",removeAfterPrint:!1,suppressErrors:!1},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPrint=function(e){var n=t.props,r=n.onAfterPrint,a=n.onPrintError,i=n.print,o=n.suppressErrors,s=n.documentTitle;setTimeout((function(){if(e.contentWindow){if(e.contentWindow.focus(),i)i(e).then(t.handleRemoveIframe).catch((function(e){a?a("print",e):o||console.error("An error was thrown by the specified `print` function",e)}));else if(e.contentWindow.print){var n=document.title;s&&(document.title=s),e.contentWindow.print(),s&&(document.title=n),r&&r()}else o||console.error("Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes.");t.handleRemoveIframe()}else o||console.error("Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/")}),500)},t.triggerPrint=function(e){var n=t.props,r=n.onBeforePrint,a=n.onPrintError;if(r){var i=r();i&&"function"==typeof i.then?i.then((function(){t.startPrint(e)})).catch((function(e){a&&a("onBeforePrint",e)})):t.startPrint(e)}else t.startPrint(e)},t.handleClick=function(){var e=t.props,n=e.onBeforeGetContent,r=e.onPrintError;if(n){var a=n();a&&"function"==typeof a.then?a.then(t.handlePrint).catch((function(e){r&&r("onBeforeGetContent",e)})):t.handlePrint()}else t.handlePrint()},t.handlePrint=function(){var e=t.props,n=e.bodyClass,a=e.content,o=e.copyStyles,s=e.fonts,c=e.pageStyle,u=e.suppressErrors,l=a();if(void 0!==l)if(null!==l){var p=document.createElement("iframe");p.style.position="absolute",p.style.top="-1000px",p.style.left="-1000px",p.id="printWindow",p.title="Print Window";var d=i.findDOMNode(l);if(d){var f=d instanceof Text,m=document.querySelectorAll("link[rel='stylesheet']"),h=f?[]:d.querySelectorAll("img");t.linkTotal=m.length+h.length,t.linksLoaded=[],t.linksErrored=[],t.fontsLoaded=[],t.fontsErrored=[];var y=function(e,n){n?t.linksLoaded.push(e):(u||console.error('"react-to-print" was unable to load a linked node. It may be invalid. "react-to-print" will continue attempting to print the page. The linked node that errored was:',e),t.linksErrored.push(e)),t.linksLoaded.length+t.linksErrored.length+t.fontsLoaded.length+t.fontsErrored.length===t.linkTotal&&t.triggerPrint(p)};p.onload=function(){var e,a,i,l;p.onload=null;var m=p.contentDocument||(null===(a=p.contentWindow)||void 0===a?void 0:a.document);if(m){m.body.appendChild(d.cloneNode(!0)),s&&((null===(i=p.contentDocument)||void 0===i?void 0:i.fonts)&&(null===(l=p.contentWindow)||void 0===l?void 0:l.FontFace)?s.forEach((function(e){var n=new FontFace(e.family,e.source);p.contentDocument.fonts.add(n),n.loaded.then((function(e){t.fontsLoaded.push(e)})).catch((function(e){t.fontsErrored.push(n),u||console.error('"react-to-print" was unable to load a font. "react-to-print" will continue attempting to print the page. The font that failed to load is:',n,"The error from loading the font is:",e)}))})):u||console.error('"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API'));var g="function"==typeof c?c():c;if("string"!=typeof g)u||console.error('"react-to-print" expected a "string" from `pageStyle` but received "'+typeof g+'". Styles from `pageStyle` will not be applied.');else{var v=m.createElement("style");v.appendChild(m.createTextNode(g)),m.head.appendChild(v)}if(n&&(e=m.body.classList).add.apply(e,r.__spread(n.split(" "))),!f){for(var S=m.querySelectorAll("canvas"),b=d.querySelectorAll("canvas"),E=0,x=S.length;E<x;++E){var A=(L=S[E]).getContext("2d");A&&A.drawImage(b[E],0,0)}for(E=0;E<h.length;E++){var I=h[E],T=I.getAttribute("src");if(T){var w=new Image;w.onload=y.bind(null,I,!0),w.onerror=y.bind(null,I,!1),w.src=T}else u||console.warn('"react-to-print" encountered an <img> tag with an empty "src" attribute. It will not attempt to pre-load it. The <img> is:',I)}var C="input",D=d.querySelectorAll(C),R=m.querySelectorAll(C);for(E=0;E<D.length;E++)R[E].value=D[E].value;var _="input[type=checkbox],input[type=radio]",j=d.querySelectorAll(_),N=m.querySelectorAll(_);for(E=0;E<j.length;E++)N[E].checked=j[E].checked;var P="select",O=d.querySelectorAll(P),q=m.querySelectorAll(P);for(E=0;E<O.length;E++)q[E].value=O[E].value}if(o)for(var U=document.querySelectorAll("style, link[rel='stylesheet']"),k=(E=0,U.length);E<k;++E){var L;if("STYLE"===(L=U[E]).tagName){var F=m.createElement(L.tagName),M=L.sheet;if(M){for(var H="",B=0,Q=M.cssRules.length;B<Q;++B)"string"==typeof M.cssRules[B].cssText&&(H+=M.cssRules[B].cssText+"\r\n");F.setAttribute("id","react-to-print-"+E),F.appendChild(m.createTextNode(H)),m.head.appendChild(F)}}else if(L.getAttribute("href")){F=m.createElement(L.tagName),B=0;for(var W=L.attributes.length;B<W;++B){var G=L.attributes[B];G&&F.setAttribute(G.nodeName,G.nodeValue||"")}F.onload=y.bind(null,F,!0),F.onerror=y.bind(null,F,!1),m.head.appendChild(F)}else u||console.warn('"react-to-print" encountered a <link> tag with an empty "href" attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:',L),y(L,!0)}}0!==t.linkTotal&&o||t.triggerPrint(p)},t.handleRemoveIframe(!0),document.body.appendChild(p)}else u||console.error('"react-to-print" could not locate the DOM node corresponding with the `content` prop')}else u||console.error('There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.');else u||console.error('For "react-to-print" to work only Class based components can be printed.')},t.handleRemoveIframe=function(e){var n=t.props.removeAfterPrint;if(e||n){var r=document.getElementById("printWindow");r&&document.body.removeChild(r)}},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.suppressErrors,r=e.trigger;if(r)return a.cloneElement(r(),{onClick:this.handleClick});if(!c)return n||console.error('"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"'),null;var i={handlePrint:this.handleClick};return a.createElement(c.Provider,{value:i},t)},t.defaultProps=u,t}(a.Component);t.default=l,t.useReactToPrint=s?function(e){var t=a.useMemo((function(){return new l(r.__assign(r.__assign({},u),e))}),[e]);return a.useCallback((function(){return t.handleClick()}),[t])}:function(e){e.suppressErrors||console.warn('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')}},655:function(e,t,n){n.r(t),n.d(t,{__extends:function(){return a},__assign:function(){return i},__rest:function(){return o},__decorate:function(){return s},__param:function(){return c},__metadata:function(){return u},__awaiter:function(){return l},__generator:function(){return p},__exportStar:function(){return d},__values:function(){return f},__read:function(){return m},__spread:function(){return h},__spreadArrays:function(){return y},__await:function(){return g},__asyncGenerator:function(){return v},__asyncDelegator:function(){return S},__asyncValues:function(){return b},__makeTemplateObject:function(){return E},__importStar:function(){return x},__importDefault:function(){return A},__classPrivateFieldGet:function(){return I},__classPrivateFieldSet:function(){return T}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function s(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=a[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:a?a(t):t}:a}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,a,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},297:function(e){e.exports=r},268:function(e){e.exports=a}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(629)}())},9387:e=>{"use strict";e.exports=require("core-js-pure/features/array/from")},1801:e=>{"use strict";e.exports=require("core-js-pure/features/array/is-array")},659:e=>{"use strict";e.exports=require("core-js-pure/features/get-iterator")},4502:e=>{"use strict";e.exports=require("core-js-pure/features/instance/index-of")},3085:e=>{"use strict";e.exports=require("core-js-pure/features/instance/slice")},1021:e=>{"use strict";e.exports=require("core-js-pure/features/is-iterable")},8639:e=>{"use strict";e.exports=require("core-js-pure/features/object/create")},9219:e=>{"use strict";e.exports=require("core-js-pure/features/object/define-property")},3800:e=>{"use strict";e.exports=require("core-js-pure/features/object/get-own-property-symbols")},5347:e=>{"use strict";e.exports=require("core-js-pure/features/object/get-prototype-of")},4785:e=>{"use strict";e.exports=require("core-js-pure/features/object/keys")},9402:e=>{"use strict";e.exports=require("core-js-pure/features/object/set-prototype-of")},8564:e=>{"use strict";e.exports=require("core-js-pure/features/symbol")},1882:e=>{"use strict";e.exports=require("core-js-pure/features/symbol/iterator")},9330:e=>{"use strict";e.exports=require("core-js-pure/stable/array/from")},9718:e=>{"use strict";e.exports=require("core-js-pure/stable/array/is-array")},7010:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/concat")},973:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/every")},1672:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/filter")},2142:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/for-each")},5001:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/includes")},3769:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/index-of")},3919:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/map")},9871:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/reduce")},8646:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/slice")},9874:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/splice")},6214:e=>{"use strict";e.exports=require("core-js-pure/stable/instance/starts-with")},4098:e=>{"use strict";e.exports=require("core-js-pure/stable/json/stringify")},7833:e=>{"use strict";e.exports=require("core-js-pure/stable/object/define-properties")},2598:e=>{"use strict";e.exports=require("core-js-pure/stable/object/define-property")},1135:e=>{"use strict";e.exports=require("core-js-pure/stable/object/entries")},9091:e=>{"use strict";e.exports=require("core-js-pure/stable/object/get-own-property-descriptor")},9389:e=>{"use strict";e.exports=require("core-js-pure/stable/object/get-own-property-descriptors")},3143:e=>{"use strict";e.exports=require("core-js-pure/stable/object/get-own-property-symbols")},6986:e=>{"use strict";e.exports=require("core-js-pure/stable/object/keys")},9027:e=>{"use strict";e.exports=require("core-js-pure/stable/object/values")},4471:e=>{"use strict";e.exports=require("core-js-pure/stable/reflect/construct")},9297:e=>{"use strict";e.exports=require("react")},2268:e=>{"use strict";e.exports=require("react-dom")},6512:e=>{"use strict";e.exports=require("regenerator-runtime")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{AccessRequestContainer:()=>os,initializeAccessRequestStore:()=>Yr});const e=require("immutable");var t=n.n(e);const a=require("@redux-saga/core");var i=n.n(a);const o=require("connected-react-router/immutable"),s=require("redux");var c=n(4341);function u(e,t,n){return t in e?c(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=require("lattice-auth"),p=require("redux-immutable"),d=require("lattice-utils"),f=require("redux-reqseq");var m,h=d.ReduxConstants.APP,y=d.ReduxConstants.AUTH,g=d.ReduxConstants.EDM,v=d.ReduxConstants.ENTITY_SETS,S=d.ReduxConstants.ENTITY_SETS_INDEX_MAP,b=d.ReduxConstants.ENTITY_TYPES,E=d.ReduxConstants.ENTITY_TYPES_INDEX_MAP,x=d.ReduxConstants.ERROR,A=d.ReduxConstants.PROPERTY_TYPES,I=d.ReduxConstants.PROPERTY_TYPES_INDEX_MAP,T=d.ReduxConstants.REQUEST_STATE,w=(u(m={},x,!1),u(m,T,f.RequestStates.STANDBY),m),C=n(116),D=n.n(C),R=n(8580),_=n.n(R),j=(0,f.newRequestSequence)("GET_FORMS"),N=(0,f.newRequestSequence)("GET_ALL_ACCESS_REQUESTS"),P=(0,f.newRequestSequence)("GET_ACCESS_REQUEST"),O=(0,f.newRequestSequence)("SUBMIT_ACCESS_REQUEST"),q=(0,f.newRequestSequence)("UPDATE_ACCESS_REQUEST"),U=(0,f.newRequestSequence)("GET_ATTACHMENTS"),k=(0,f.newRequestSequence)("UPLOAD_ATTACHMENTS"),L=(0,f.newRequestSequence)("DELETE_ATTACHMENTS"),F=d.ReduxConstants.REQUEST_STATE,M=d.DataUtils.getEntityKeyId;function H(e,t){return L.reducer(e,t,{REQUEST:function(){return e.setIn(["DELETE_ATTACHMENTS",F],f.RequestStates.PENDING)},SUCCESS:function(){var n,r=t.value,a=D()(n=e.get("attachments")).call(n,(function(e){var t=M(e);return!_()(r).call(r,t)}));return e.set("attachments",a).setIn(["DELETE_ATTACHMENTS",F],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["DELETE_ATTACHMENTS",F],f.RequestStates.FAILURE)}})}var B=d.ReduxConstants.REQUEST_STATE;function Q(e,t){return P.reducer(e,t,{REQUEST:function(){return e.setIn(["GET_ACCESS_REQUEST",B],f.RequestStates.PENDING)},SUCCESS:function(){return e.merge(t.value).setIn(["GET_ACCESS_REQUEST",B],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["GET_ACCESS_REQUEST",B],f.RequestStates.FAILURE)}})}var W=d.ReduxConstants.REQUEST_STATE;function G(e,t){return N.reducer(e,t,{REQUEST:function(){return e.setIn(["GET_ALL_ACCESS_REQUESTS",W],f.RequestStates.PENDING)},SUCCESS:function(){return e.merge(t.value).setIn(["GET_ALL_ACCESS_REQUESTS",W],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["GET_ALL_ACCESS_REQUESTS",W],f.RequestStates.FAILURE)}})}var Y=d.ReduxConstants.REQUEST_STATE;function z(e,t){return U.reducer(e,t,{REQUEST:function(){return e.setIn(["GET_ATTACHMENTS",Y],f.RequestStates.PENDING)},SUCCESS:function(){var n=t.value.data;return e.set("attachments",n).setIn(["GET_ATTACHMENTS",Y],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["GET_ATTACHMENTS",Y],f.RequestStates.FAILURE)}})}var V=d.ReduxConstants.REQUEST_STATE;function K(e,t){return j.reducer(e,t,{REQUEST:function(){return e.setIn(["GET_FORMS",V],f.RequestStates.PENDING)},SUCCESS:function(){return e.merge(t.value).setIn(["GET_FORMS",V],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["GET_FORMS",V],f.RequestStates.FAILURE)}})}var J=d.ReduxConstants.REQUEST_STATE;function X(e,t){return O.reducer(e,t,{REQUEST:function(){return e.setIn(["SUBMIT_ACCESS_REQUEST",J],f.RequestStates.PENDING)},SUCCESS:function(){return e.set("accessRequest",t.value).setIn(["SUBMIT_ACCESS_REQUEST",J],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["SUBMIT_ACCESS_REQUEST",J],f.RequestStates.FAILURE)}})}var Z=d.ReduxConstants.REQUEST_STATE;function $(e,t){return q.reducer(e,t,{REQUEST:function(){var n=t.value,r=n.path,a=n.formData;return e.setIn(r,a).setIn(["UPDATE_ACCESS_REQUEST",Z],f.RequestStates.PENDING)},SUCCESS:function(){return e.setIn(["UPDATE_ACCESS_REQUEST",Z],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["UPDATE_ACCESS_REQUEST",Z],f.RequestStates.FAILURE)}})}var ee=d.ReduxConstants.REQUEST_STATE;function te(e,t){return k.reducer(e,t,{REQUEST:function(){return e.setIn(["UPLOAD_ATTACHMENTS",ee],f.RequestStates.PENDING)},SUCCESS:function(){return e.setIn(["UPLOAD_ATTACHMENTS",ee],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["UPLOAD_ATTACHMENTS",ee],f.RequestStates.FAILURE)}})}var ne=function(e){return{path:e,type:"RESET_REQUEST_STATE"}},re=n(8363);function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=n(1446),oe=n(8317),se=n(3592);var ce=n(5238);function ue(e,t){var n;if(e){if("string"==typeof e)return ae(e,t);var r=ce(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?se(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}function le(e){return function(e){if(re(e))return ae(e)}(e)||function(e){if(void 0!==ie&&oe(Object(e)))return se(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe,de=n(7766),fe=n.n(de);function me(e,t){var n,r,a=t.path;return a&&e.hasIn(a)?e.setIn(fe()(n=[]).call(n,le(a),[x]),!1).setIn(fe()(r=[]).call(r,le(a),[T]),f.RequestStates.STANDBY):e}var he=d.ReduxConstants.HITS,ye=(0,e.fromJS)((u(pe={},"accessRequest",(0,e.Map)()),u(pe,"attachments",(0,e.List)()),u(pe,"GET_ALL_ACCESS_REQUESTS",w),u(pe,"GET_ATTACHMENTS",w),u(pe,"GET_FORMS",w),u(pe,he,(0,e.List)()),u(pe,"SUBMIT_ACCESS_REQUEST",w),u(pe,"UPDATE_ACCESS_REQUEST",w),u(pe,"UPLOAD_ATTACHMENTS",w),pe));function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_REQUEST_STATE":return me(e,t);case"SELECT_ACCESS_REQUEST":return e.set("accessRequest",t.value);case"CLEAR_ACCESS_REQUEST":return e.set("accessRequest",ye.get("accessRequest"));case j.case(t.type):return K(e,t);case P.case(t.type):return Q(e,t);case N.case(t.type):return G(e,t);case O.case(t.type):return X(e,t);case q.case(t.type):return $(e,t);case U.case(t.type):return z(e,t);case k.case(t.type):return te(e,t);case L.case(t.type):return H(e,t);default:return e}}var ve=n(3109),Se=n.n(ve),be=n(2366),Ee=n.n(be);const xe=require("@redux-saga/core/effects"),Ae=require("lattice-sagas");var Ie=(0,f.newRequestSequence)("GET_EDM_TYPES"),Te=Se().mark(Pe),we=Se().mark(Oe),Ce=new d.Logger("EDMSagas"),De=d.LangUtils.isDefined,Re=Ae.EntityDataModelApiActions.getAllEntityTypes,_e=Ae.EntityDataModelApiActions.getAllPropertyTypes,je=Ae.EntityDataModelApiSagas.getAllEntityTypesWorker,Ne=Ae.EntityDataModelApiSagas.getAllPropertyTypesWorker;function Pe(e){var t,n,r,a;return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,xe.put)(Ie.request(e.id));case 3:return i.next=5,(0,xe.all)([(0,xe.call)(je,Re()),(0,xe.call)(Ne,_e())]);case 5:if(r=i.sent,!(a=Ee()(r).call(r,(function(e,t){return De(e)?e:t.error}),void 0))){i.next=9;break}throw a;case 9:return t={data:(n={},u(n,b,r[0].data),u(n,A,r[1].data),n)},i.next=12,(0,xe.put)(Ie.success(e.id,t.data));case 12:i.next=20;break;case 14:return i.prev=14,i.t0=i.catch(0),t={error:i.t0},Ce.error(e.type,i.t0),i.next=20,(0,xe.put)(Ie.failure(e.id,i.t0));case 20:return i.prev=20,i.next=23,(0,xe.put)(Ie.finally(e.id));case 23:return i.finish(20);case 24:return i.abrupt("return",t);case 25:case"end":return i.stop()}}),Te,null,[[0,14,20,24]])}function Oe(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("GET_EDM_TYPES",Pe);case 2:case"end":return e.stop()}}),we)}var qe=Error("invalid parameter: action.value is required and must be defined"),Ue=Error("invalid parameter: action.value is the incorrect type"),ke=(Error('invalid route: a route must be a non-empty string that starts with "/"'),Error("invalid uuid"),Error("unexpected state"),Error("caught exception in worker saga"),(0,f.newRequestSequence)("INITIALIZE_APPLICATION")),Le=Se().mark(ze),Fe=Se().mark(Ve),Me=Ae.AppApiActions.getApp,He=Ae.AppApiActions.getAppConfigs,Be=Ae.AppApiSagas.getAppWorker,Qe=Ae.AppApiSagas.getAppConfigsWorker,We=d.ValidationUtils.isValidUUID,Ge=d.LangUtils.isDefined,Ye=new d.Logger("AppSagas");function ze(e){var t,n,r,a,i,o,s,c,u,l;return Se().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(t={},p.prev=1,r=e.value,a=r.match,i=r.organizationId,o=r.root,We(i)){p.next=5;break}throw Ue;case 5:if("string"==typeof o){p.next=7;break}throw Ue;case 7:if(Ge(a)){p.next=9;break}throw Ue;case 9:return p.next=11,(0,xe.put)(ke.request(e.id));case 11:return p.next=13,(0,xe.all)([(0,xe.call)(Pe,Ie()),(0,xe.call)(Be,Me("access_requests"))]);case 13:if(!(s=p.sent)[0].error){p.next=16;break}throw s[0].error;case 16:if(!s[1].error){p.next=18;break}throw s[1].error;case 18:return c=s[1].data,p.next=21,(0,xe.call)(Qe,He(c.id));case 21:if(!(u=p.sent).error){p.next=24;break}throw u.error;case 24:return l=Ee()(n=u.data).call(n,(function(e,t){var n=e;return t.organization.id===i&&(n=t),n}),{}),t.data={appConfig:l,root:o,match:a},p.next=28,(0,xe.put)(ke.success(e.id,t.data));case 28:p.next=35;break;case 30:return p.prev=30,p.t0=p.catch(1),Ye.error(e.type,p.t0),p.next=35,(0,xe.put)(ke.failure(e.id,p.t0));case 35:return p.prev=35,p.next=38,(0,xe.put)(ke.finally(e.id));case 38:return p.finish(35);case 39:case"end":return p.stop()}}),Le,null,[[1,30,35,39]])}function Ve(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("INITIALIZE_APPLICATION",ze);case 2:case"end":return e.stop()}}),Fe)}var Ke,Je=d.ReduxConstants.REQUEST_STATE;function Xe(e,t){switch(t.type){case"SET_ROOT":var n=t.value;return e.set("root",n);case ke.case(t.type):var r=t;return ke.reducer(e,r,{REQUEST:function(){return e.setIn(["INITIALIZE_APPLICATION",Je],f.RequestStates.PENDING)},SUCCESS:function(){return e.merge(t.value).setIn(["INITIALIZE_APPLICATION",Je],f.RequestStates.SUCCESS)},FAILURE:function(){return e.setIn(["INITIALIZE_APPLICATION",Je],f.RequestStates.FAILURE)}});default:return e}}var Ze=(0,e.fromJS)((u(Ke={},"INITIALIZE_APPLICATION",w),u(Ke,"appConfig",{}),u(Ke,"root","/"),u(Ke,"match",{}),Ke)),$e=["app","appConfig","config"],et=["app","root"],tt=["app","match"];function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_REQUEST_STATE":return me(e,t);case ke.case(t.type):return Xe(e,t);default:return e}}var rt=n(8914),at=n.n(rt);const it=require("lattice");var ot=it.Models.EntityTypeBuilder,st=it.Models.PropertyTypeBuilder;function ct(t,n){return Ie.reducer(t,n,{REQUEST:function(){return t.setIn(["GET_EDM_TYPES",T],f.RequestStates.PENDING).setIn(["GET_EDM_TYPES",n.id],n)},SUCCESS:function(){var r=n.value.entityTypes,a=(0,e.List)().asMutable(),i=(0,e.Map)().asMutable();at()(r).call(r,(function(e,t){var n=new ot(e).build();a.push(n),i.set(n.id,t),i.set(n.type,t)}));var o=n.value.propertyTypes,s=(0,e.List)().asMutable(),c=(0,e.Map)().asMutable();return at()(o).call(o,(function(e,t){var n=new st(e).build();s.push(n),c.set(n.id,t),c.set(n.type,t)})),t.set(b,a.asImmutable()).set(E,i.asImmutable()).set(A,s.asImmutable()).set(I,c.asImmutable()).setIn(["GET_EDM_TYPES",T],f.RequestStates.SUCCESS)},FAILURE:function(){return t.set(b,(0,e.List)()).set(E,(0,e.Map)()).set(A,(0,e.List)()).set(I,(0,e.Map)()).setIn(["GET_EDM_TYPES",T],f.RequestStates.FAILURE)},FINALLY:function(){return t.deleteIn(["GET_EDM_TYPES",n.id])}})}var ut=it.Models.EntitySetBuilder,lt=Ae.EntitySetsApiActions.GET_ENTITY_SET,pt=Ae.EntitySetsApiActions.getEntitySet;function dt(e,t){return pt.reducer(e,t,{REQUEST:function(){return e.setIn([lt,T],f.RequestStates.PENDING).setIn([lt,t.id],t)},SUCCESS:function(){if(e.hasIn([lt,t.id])){var n=new ut(t.value).build(),r=e.get(v),a=e.get(S);if(a.has(n.id))r=r.update(a.get(n.id),(function(){return n}));else{var i=(r=r.push(n)).count()-1;a=a.set(n.id,i).set(n.name,i)}return e.set(v,r).set(S,a).setIn([lt,T],f.RequestStates.SUCCESS)}return e},FAILURE:function(){return e.hasIn([lt,t.id])?e.setIn([lt,T],f.RequestStates.FAILURE):e},FINALLY:function(){return e.deleteIn([lt,t.id])}})}var ft,mt=n(455),ht=n.n(mt),yt=it.Models.EntitySetBuilder,gt=Ae.EntitySetsApiActions.GET_ENTITY_SETS,vt=Ae.EntitySetsApiActions.getEntitySets;function St(e,t){return vt.reducer(e,t,{REQUEST:function(){return e.setIn([gt,T],f.RequestStates.PENDING).setIn([gt,t.id],t)},SUCCESS:function(){if(e.hasIn([gt,t.id])){var n,r=e.get(v),a=e.get(S);return at()(n=ht()(t.value)).call(n,(function(e){var t=new yt(e).build();if(a.has(t.id))r=r.update(a.get(t.id),(function(){return t}));else{var n=(r=r.push(t)).count()-1;a=a.set(t.id,n).set(t.name,n)}})),e.set(v,r).set(S,a).setIn([gt,T],f.RequestStates.SUCCESS)}return e},FAILURE:function(){return e.hasIn([gt,t.id])?e.setIn([gt,T],f.RequestStates.FAILURE):e},FINALLY:function(){return e.deleteIn([gt,t.id])}})}var bt=Ae.EntitySetsApiActions.GET_ENTITY_SET,Et=Ae.EntitySetsApiActions.GET_ENTITY_SETS,xt=Ae.EntitySetsApiActions.getEntitySet,At=Ae.EntitySetsApiActions.getEntitySets,It=(0,e.fromJS)((u(ft={},"GET_EDM_TYPES",w),u(ft,Et,w),u(ft,bt,w),u(ft,v,(0,e.List)()),u(ft,S,(0,e.Map)()),u(ft,b,(0,e.List)()),u(ft,E,(0,e.Map)()),u(ft,A,(0,e.List)()),u(ft,I,(0,e.Map)()),ft));function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_REQUEST_STATE":return me(e,t);case Ie.case(t.type):return ct(e,t);case xt.case(t.type):return dt(e,t);case At.case(t.type):return St(e,t);default:return e}}var wt=n(1511),Ct=n.n(wt),Dt=n(62),Rt=n.n(Dt);function _t(t,n){return(0,e.getIn)(t,[n,"entitySetId"])}var jt=(0,f.newRequestSequence)("DELETE_BULK_ENTITIES"),Nt=it.Models.FQN;const Pt={ACCESS_REQUEST_SUBMISSION:Nt.of("app.accessrequestsubmission"),ATTACHED_TO:Nt.of("app.attachedto"),FILE:Nt.of("app.file"),FORM:Nt.of("app.form")};var Ot=it.Models.FQN;const qt={DATE_TIME:Ot.of("ol.datetime"),DESCRIPTION:Ot.of("ol.description"),FILE_DATA:Ot.of("ol.filedata"),FORM_DATA:Ot.of("ol.formdata"),ID:Ot.of("ol.id"),LABEL:Ot.of("ol.label"),NAME:Ot.of("ol.name"),REQUEST_DATE_TIME:Ot.of("ol.requestdatetime"),RJSF_JSON_SCHEMA:Ot.of("ol.rjsfjsonschema"),RJSF_UI_SCHEMA:Ot.of("ol.rjsfuischema"),TYPE:Ot.of("ol.type")};var Ut=n(2991),kt=n.n(Ut),Lt=n(6902),Ft=n.n(Lt),Mt=n(6419),Ht=n.n(Mt),Bt=Se().mark(zt),Qt=new d.Logger("DataSagas"),Wt=it.Types.DeleteTypes,Gt=Ae.DataApiActions.deleteEntityData,Yt=Ae.DataApiSagas.deleteEntityDataWorker;function zt(e){var t,n,r,a,i,o;return Se().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t={},s.prev=1,null!=(r=e.value)){s.next=5;break}throw qe;case 5:return s.next=7,(0,xe.put)(jt.request(e.id));case 7:return a=kt()(n=Ft()(r)).call(n,(function(e){var t=Ht()(r[e]);return(0,xe.call)(Yt,Gt({entitySetId:e,entityKeyIds:t,deleteType:Wt.SOFT}))})),s.next=10,(0,xe.all)(a);case 10:if(i=s.sent,!(o=Ee()(i).call(i,(function(e,t){return e.error=e.error||t.error,e}),{})).error){s.next=14;break}throw o;case 14:return s.next=16,(0,xe.put)(jt.success(e.id));case 16:s.next=24;break;case 18:return s.prev=18,s.t0=s.catch(1),Qt.error(e.type,s.t0),t.error=s.t0,s.next=24,(0,xe.put)(jt.failure(e.id,s.t0));case 24:return s.prev=24,s.next=27,(0,xe.put)(jt.finally(e.id));case 27:return s.finish(24);case 28:return s.abrupt("return",t);case 29:case"end":return s.stop()}}),Bt,null,[[1,18,24,28]])}var Vt=Se().mark($t),Kt=Se().mark(en),Jt=d.ValidationUtils.isValidUUID,Xt=Pt.FILE,Zt=new d.Logger("AccessSagas");function $t(e){var t,n,r,a,i,o;return Se().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t={},s.prev=1,n=e.value,!Ct()(n)||Rt()(n).call(n,Jt)){s.next=5;break}throw Ue;case 5:return s.next=7,(0,xe.put)(L.request(e.id));case 7:return s.next=9,(0,xe.select)((function(e){return e.getIn($e)}));case 9:return r=s.sent,a=_t(r,Xt),i=u({},a,n),s.next=14,(0,xe.call)(zt,jt(i));case 14:if(!(o=s.sent).error){s.next=17;break}throw o.error;case 17:return t={data:i},s.next=20,(0,xe.put)(L.success(e.id,n));case 20:s.next=28;break;case 22:return s.prev=22,s.t0=s.catch(1),Zt.error(e.type,s.t0),t={error:s.t0},s.next=28,(0,xe.put)(L.failure(e.id,s.t0));case 28:return s.prev=28,s.next=31,(0,xe.put)(L.finally(e.id));case 31:return s.finish(28);case 32:return s.abrupt("return",t);case 33:case"end":return s.stop()}}),Vt,null,[[1,22,28,32]])}function en(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("DELETE_ATTACHMENTS",$t);case 2:case"end":return e.stop()}}),Kt)}var tn=Se().mark(un),nn=Se().mark(ln),rn=d.ValidationUtils.isValidUUID,an=Ae.DataApiActions.getEntityData,on=Ae.DataApiSagas.getEntityDataWorker,sn=Pt.ACCESS_REQUEST_SUBMISSION,cn=new d.Logger("getAccessRequestSagas");function un(t){var n,r,a,i,o;return Se().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,r=t.value,rn(r)){s.next=4;break}throw Ue;case 4:return s.next=6,(0,xe.put)(P.request(t.id));case 6:return s.next=8,(0,xe.select)((function(e){return e.getIn($e)}));case 8:return a=s.sent,i=_t(a,sn),s.next=12,(0,xe.call)(on,an({entitySetId:i,entityKeyId:r}));case 12:if(!(o=s.sent).error){s.next=15;break}throw o.error;case 15:return n={data:(0,e.fromJS)(o.data)},s.next=18,(0,xe.put)(P.success(t.id,u({},"accessRequest",n.data)));case 18:s.next=26;break;case 20:return s.prev=20,s.t0=s.catch(0),n={error:s.t0},cn.error(t.type,s.t0),s.next=26,(0,xe.put)(P.failure(t.id,s.t0));case 26:return s.prev=26,s.next=29,(0,xe.put)(P.finally(t.id));case 29:return s.finish(26);case 30:return s.abrupt("return",n);case 31:case"end":return s.stop()}}),tn,null,[[0,20,26,30]])}function ln(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("GET_ACCESS_REQUEST",un);case 2:case"end":return e.stop()}}),nn)}const pn=require("lodash/isArray");var dn=n.n(pn),fn=it.Models.FQN,mn=(0,e.Map)();function hn(t){return function(n){if(!dn()(t)&&!(0,e.isCollection)(t))return mn;var r=(0,e.Map)().withMutations((function(r){at()(t).call(t,(function(t){if(fn.isValid(t)){var a=(0,e.getIn)(n,[g,I,t],-1);if(a>=0){var i=(0,e.getIn)(n,[g,A,a]);i&&i.id&&r.set(t,i.id)}}}))}));return r.isEmpty()?mn:r}}var yn=d.ReduxConstants.HITS;function gn(){return function(t){return t.getIn(["access","accessRequest"],(0,e.List)())}}d.ReduxUtils.selectEntitySets,d.ReduxUtils.selectEntityTypes,d.ReduxUtils.selectOrganization,d.ReduxUtils.selectPropertyTypes;var vn=Se().mark(Tn),Sn=Se().mark(wn),bn=Ae.SearchApiActions.searchEntitySetData,En=Ae.SearchApiSagas.searchEntitySetDataWorker,xn=Pt.ACCESS_REQUEST_SUBMISSION,An=qt.REQUEST_DATE_TIME,In=new d.Logger("getAllAccessRequestsSagas");function Tn(t){var n,r,a,i,o,s;return Se().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,xe.put)(N.request(t.id));case 3:return c.next=5,(0,xe.select)((function(e){return e.getIn($e)}));case 5:return r=c.sent,a=_t(r,xn),c.next=9,(0,xe.select)(hn([An]));case 9:return i=c.sent,o=i.get(An),c.next=13,(0,xe.call)(En,bn({entitySetIds:[a],maxHits:1e4,start:0,constraints:[{constraints:[{type:"simple",searchTerm:"*",fuzzy:!1}]}],sort:{propertyTypeId:o,type:"field"}}));case 13:if(!(s=c.sent).error){c.next=16;break}throw s.error;case 16:return n={data:s.data},c.next=19,(0,xe.put)(N.success(t.id,{hits:(0,e.fromJS)(s.data.hits)}));case 19:c.next=27;break;case 21:return c.prev=21,c.t0=c.catch(0),n={error:c.t0},In.error(t.type,c.t0),c.next=27,(0,xe.put)(N.failure(t.id,c.t0));case 27:return c.prev=27,c.next=30,(0,xe.put)(N.finally(t.id));case 30:return c.finish(27);case 31:return c.abrupt("return",n);case 32:case"end":return c.stop()}}),vn,null,[[0,21,27,31]])}function wn(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("GET_ALL_ACCESS_REQUESTS",Tn);case 2:case"end":return e.stop()}}),Sn)}var Cn=Se().mark(Un),Dn=Se().mark(kn),Rn=new d.Logger("DocumentsSagas"),_n=d.ValidationUtils.isValidUUID,jn=Ae.SearchApiActions.searchEntityNeighborsWithFilter,Nn=Ae.SearchApiSagas.searchEntityNeighborsWithFilterWorker,Pn=Pt.FILE,On=Pt.ATTACHED_TO,qn=Pt.ACCESS_REQUEST_SUBMISSION;function Un(t){var n,r,a,i,o,s,c,u,l,p;return Se().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(n={},d.prev=1,a=t.value,_n(a)){d.next=5;break}throw Ue;case 5:return d.next=7,(0,xe.put)(U.request(t.id));case 7:return d.next=9,(0,xe.select)((function(e){return e.getIn($e)}));case 9:return i=d.sent,o=_t(i,qn),s=_t(i,Pn),c=_t(i,On),u={entitySetId:o,filter:{entityKeyIds:[a],edgeEntitySetIds:[c],destinationEntitySetIds:[],sourceEntitySetIds:[s]}},d.next=16,(0,xe.call)(Nn,jn(u));case 16:if(!(l=d.sent).error){d.next=19;break}throw l.error;case 19:return p=kt()(r=(0,e.fromJS)(l.data).get(a,(0,e.List)())).call(r,(function(e){return e.get("neighborDetails")})),n.data=p,d.next=23,(0,xe.put)(U.success(t.id,{data:p}));case 23:d.next=30;break;case 25:return d.prev=25,d.t0=d.catch(1),Rn.error(t.type,d.t0),d.next=30,(0,xe.put)(U.failure(t.id));case 30:return d.prev=30,d.next=33,(0,xe.put)(U.finally(t.id));case 33:return d.finish(30);case 34:return d.abrupt("return",n);case 35:case"end":return d.stop()}}),Cn,null,[[1,25,30,34]])}function kn(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeLatest)("GET_ATTACHMENTS",Un);case 2:case"end":return e.stop()}}),Dn)}var Ln=n(9340),Fn=n.n(Ln);const Mn=require("lodash/isPlainObject");var Hn=n.n(Mn);const Bn=require("luxon");var Qn=Se().mark(tr),Wn=Se().mark(nr),Gn=it.Constants.OPENLATTICE_ID_FQN,Yn=Ae.DataApiActions.createOrMergeEntityData,zn=Ae.DataApiSagas.createOrMergeEntityDataWorker,Vn=Pt.ACCESS_REQUEST_SUBMISSION,Kn=qt.FORM_DATA,Jn=qt.REQUEST_DATE_TIME,Xn=qt.RJSF_JSON_SCHEMA,Zn=qt.RJSF_UI_SCHEMA,$n=qt.TYPE,er=new d.Logger("submitAccessRequestSagas");function tr(t){var n,r,a,i,o,s,c,l,p,d,f,m,h,y,g,v,S,b,E,x,A,I,T;return Se().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:if(w.prev=0,i=t.value,Hn()(i)){w.next=4;break}throw Ue;case 4:return w.next=6,(0,xe.put)(O.request(t.id));case 6:return w.next=8,(0,xe.select)((function(e){return e.getIn($e)}));case 8:return o=w.sent,s=_t(o,Vn),c=i.formData,l=i.schema,p=i.uiSchema,d=i.type,w.next=13,(0,xe.select)(hn([Kn,Jn,Xn,Zn,$n]));case 13:return f=w.sent,m=f.get(Kn),h=f.get(Jn),y=f.get(Xn),g=f.get(Zn),v=f.get($n),S=Fn()(c),b=Fn()(l),E=Fn()(p),x=Bn.DateTime.local().toISO(),A=[(r={},u(r,v,[d||"Common Application"]),u(r,m,[S]),u(r,y,[b]),u(r,g,[E]),u(r,h,[x]),r)],w.next=26,(0,xe.call)(zn,Yn({entitySetId:s,entityData:A}));case 26:if(!(I=w.sent).error){w.next=29;break}throw I.error;case 29:return T=(0,e.Map)((u(a={},$n,[d||"Common Application"]),u(a,Kn,[S]),u(a,Xn,[b]),u(a,Zn,[E]),u(a,Jn,[x]),u(a,Gn,I.data),a)),n={data:T},w.next=33,(0,xe.put)(O.success(t.id,n.data));case 33:w.next=41;break;case 35:return w.prev=35,w.t0=w.catch(0),n={error:w.t0},er.error(t.type,w.t0),w.next=41,(0,xe.put)(O.failure(t.id,w.t0));case 41:return w.prev=41,w.next=44,(0,xe.put)(O.finally(t.id));case 44:return w.finish(41);case 45:return w.abrupt("return",n);case 46:case"end":return w.stop()}}),Qn,null,[[0,35,41,45]])}function nr(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("SUBMIT_ACCESS_REQUEST",tr);case 2:case"end":return e.stop()}}),Wn)}var rr=Se().mark(pr),ar=Se().mark(dr),ir=Ae.DataApiActions.updateEntityData,or=Ae.DataApiSagas.updateEntityDataWorker,sr=it.Types.UpdateTypes,cr=Pt.ACCESS_REQUEST_SUBMISSION,ur=qt.FORM_DATA,lr=new d.Logger("updateAccessRequest");function pr(e){var t,n,r,a,i,o,s,c,l,p,d;return Se().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,n=e.value,Hn()(n)){f.next=4;break}throw Ue;case 4:return r=n.formData,a=n.entityKeyId,i=Fn()(r),f.next=8,(0,xe.put)(q.request(e.id,{path:["accessRequest",ur.toString(),0],formData:i}));case 8:return f.next=10,(0,xe.select)((function(e){return e.getIn($e)}));case 10:return o=f.sent,s=_t(o,cr),f.next=14,(0,xe.select)(hn([ur]));case 14:return c=f.sent,l=c.get(ur),p=u({},a,u({},l,[i])),f.next=19,(0,xe.call)(or,ir({entitySetId:s,entities:p,updateType:sr.PartialReplace}));case 19:if(!(d=f.sent).error){f.next=22;break}throw d.error;case 22:return t={data:d.data},f.next=25,(0,xe.put)(q.success(e.id));case 25:f.next=33;break;case 27:return f.prev=27,f.t0=f.catch(0),t={error:f.t0},lr.error(e.type,f.t0),f.next=33,(0,xe.put)(q.failure(e.id,f.t0));case 33:return f.prev=33,f.next=36,(0,xe.put)(q.finally(e.id));case 36:return f.finish(33);case 37:return f.abrupt("return",t);case 38:case"end":return f.stop()}}),rr,null,[[0,27,33,37]])}function dr(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("UPDATE_ACCESS_REQUEST",pr);case 2:case"end":return e.stop()}}),ar)}var fr=n(1643),mr=n.n(fr);const hr=function(e){var t=mr()(e).call(e,";base64,");return t<0?e:e.substring(t+";base64,".length)};var yr=Se().mark(Dr),gr=Se().mark(Rr),vr=it.Models.DataGraphBuilder,Sr=Pt.ACCESS_REQUEST_SUBMISSION,br=Pt.ATTACHED_TO,Er=Pt.FILE,xr=qt.DATE_TIME,Ar=qt.FILE_DATA,Ir=qt.LABEL,Tr=qt.NAME,wr=qt.TYPE,Cr=new d.Logger("DocumentsSagas");function Dr(e){var t,n,r,a,i,o,s,c,l,p,d,f,m,h,y,g,v,S,b,E,x;return Se().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,(0,xe.put)(k.request(e.id));case 3:return n=e.value,r=n.files,a=n.accessRequestId,A.next=6,(0,xe.select)((function(e){return e.getIn($e)}));case 6:return i=A.sent,o=_t(i,Sr),s=_t(i,Er),c=_t(i,br),A.next=12,(0,xe.select)(hn([xr,Ar,Ir,Tr,wr]));case 12:return l=A.sent,p=l.get(xr),d=l.get(Ar),f=l.get(Tr),m=l.get(wr),h=Bn.DateTime.local().toISO(),y=kt()(r).call(r,(function(e){var t,n=e.base64,r=e.name,a=e.type;return u(t={},p,[h]),u(t,m,[a]),u(t,f,[r]),u(t,d,[{"content-type":a,data:hr(n)}]),t})),g=u({},p,[h]),v=[],at()(r).call(r,(function(e,t){v.push({srcEntitySetId:s,srcEntityIndex:t,dstEntitySetId:o,dstEntityKeyId:a,data:g})})),S=u({},s,y),b=u({},c,v),E=(new vr).setAssociations(b).setEntities(S).build(),A.next=27,(0,xe.call)(it.DataApi.createEntityAndAssociationData,E);case 27:if(!(x=A.sent).error){A.next=30;break}throw x.error;case 30:return t={data:{}},A.next=33,(0,xe.put)(k.success(e.id));case 33:A.next=41;break;case 35:return A.prev=35,A.t0=A.catch(0),Cr.error(e.type,A.t0),t={error:A.t0},A.next=41,(0,xe.put)(k.failure(e.id,A.t0));case 41:return A.prev=41,A.next=44,(0,xe.put)(k.finally(e.id));case 44:return A.finish(41);case 45:return A.abrupt("return",t);case 46:case"end":return A.stop()}}),yr,null,[[0,35,41,45]])}function Rr(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("UPLOAD_ATTACHMENTS",Dr);case 2:case"end":return e.stop()}}),gr)}const _r=require("history");var jr="/request/".concat(":accessRequestId");function Nr(e,t){return{route:t,error:e,type:"ROUTING_FAILURE"}}var Pr=n(9828),Or=n.n(Pr);const qr=require("connected-react-router");var Ur=Se().mark(Mr),kr=Se().mark(Hr),Lr=Se().mark(Br),Fr=new d.Logger("RoutingSagas");function Mr(e){var t,n,r;return Se().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.route,n=e.state,r=void 0===n?{}:n,null!=t&&Or()(t).call(t,"/",0)){a.next=6;break}return Fr.error('invalid route: a route must be a non-empty string that starts with "/"',t),a.next=5,(0,xe.put)(Nr('invalid route: a route must be a non-empty string that starts with "/"',t));case 5:return a.abrupt("return");case 6:return a.next=8,(0,xe.put)((0,qr.push)({state:Fn()(r),pathname:t}));case 8:case"end":return a.stop()}}),Ur)}function Hr(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("GO_TO_ROUTE",Mr);case 2:case"end":return e.stop()}}),kr)}function Br(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.takeEvery)("GO_TO_ROOT",Mr);case 2:case"end":return e.stop()}}),Lr)}var Qr=(0,_r.createHashHistory)(),Wr=Se().mark(Gr);function Gr(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xe.all)([(0,xe.fork)(l.AuthSagas.watchAuthAttempt),(0,xe.fork)(l.AuthSagas.watchAuthSuccess),(0,xe.fork)(l.AuthSagas.watchAuthFailure),(0,xe.fork)(l.AuthSagas.watchAuthExpired),(0,xe.fork)(l.AuthSagas.watchLogout),(0,xe.fork)(Ve),(0,xe.fork)(Oe),(0,xe.fork)(Br),(0,xe.fork)(Hr),(0,xe.fork)(ln),(0,xe.fork)(kn),(0,xe.fork)(wn),(0,xe.fork)(nr),(0,xe.fork)(dr),(0,xe.fork)(Rr),(0,xe.fork)(en)]);case 2:case"end":return e.stop()}}),Wr)}function Yr(e){var n=i()(),r=[n,(0,o.routerMiddleware)(e)],a=[s.applyMiddleware.apply(void 0,r)],c=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({stateSanitizer:function(e){return e.setIn(["edm","entityTypes"],"HIDDEN").setIn(["edm","entityTypesIndexMap"],"HIDDEN").setIn(["edm","propertyTypes"],"HIDDEN").setIn(["edm","propertyTypesIndexMap"],"HIDDEN")},maxAge:100}):s.compose,d=(0,s.createStore)(function(e){var t;return(0,p.combineReducers)((u(t={},"access",ge),u(t,h,nt),u(t,y,l.AuthReducer),u(t,g,Tt),u(t,"router",(0,o.connectRouter)(e)),t))}(e),t().Map(),c.apply(void 0,a));return n.run(Gr),d}var zr=n(9297),Vr=n.n(zr);const Kr=require("lattice-ui-kit"),Jr=require("react-router-dom"),Xr=require("styled-components");var Zr=n.n(Xr),$r=n(3649),ea=n.n($r);const ta=require("react-redux");var na=Yr(Qr),ra=(0,zr.createContext)(null),aa=((0,ta.createStoreHook)(ra),(0,ta.createDispatchHook)(ra)),ia=(0,ta.createSelectorHook)(ra);const oa=require("react/jsx-runtime");var sa=it.Constants.OPENLATTICE_LAST_WRITE_FQN,ca=qt.REQUEST_DATE_TIME,ua=qt.TYPE,la=d.DataUtils.getPropertyValue;const pa=function(e){var t,n,r=e.data,a=e.to,i=aa(),o=la(r,[ua,0]),s=la(r,[ca,0]),c=la(r,[sa,0]),u=Bn.DateTime.fromISO(s),l=Bn.DateTime.fromISO(c),p=u.toLocaleString(Bn.DateTime.DATE_SHORT),d="Created: ".concat(p);if(l.diff(u,"seconds").seconds>1){var f=l.toRelative({style:"short"});d=fe()(d).call(d," · Updated: ".concat(f))}var m=kt()(t=ea()(n=o.split(" ")).call(n,0,2)).call(t,(function(e){return e.charAt(0).toUpperCase()})).join("");return(0,oa.jsxs)(Kr.ListItem,{button:!0,component:Jr.Link,disableGutters:!0,onClick:function(){i({type:"SELECT_ACCESS_REQUEST",value:r})},to:a,children:[(0,oa.jsx)(Kr.ListItemAvatar,{children:(0,oa.jsx)(Kr.Avatar,{children:m})}),(0,oa.jsx)(Kr.ListItemText,{primary:o,secondary:d})]})};var da=n(6976);function fa(e,t){return function(e){if(re(e))return e}(e)||function(e,t){if(void 0!==ie&&oe(Object(e))){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=da(e);!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ma=n(6295),ha=n.n(ma);const ya=function(e,t){var n;return t.params?Ee()(n=ha()(t.params)).call(n,(function(e,t){var n=fa(t,2),r=n[0],a=n[1];return e.replace(RegExp(":".concat(r),"g"),a)}),e):e};var ga=d.DataUtils.getEntityKeyId;const va=function(){var t=aa(),n=ia((function(t){return t.getIn(["access",yn],(0,e.List)())})),r=ia((function(e){return e.getIn(et)})),a=ia((function(e){return e.getIn(tt)})),i=ya(r,a);return(0,zr.useEffect)((function(){t(N())}),[t]),(0,oa.jsx)(Kr.List,{children:kt()(n).call(n,(function(e){var t,n=ga(e)||"";return(0,oa.jsx)(pa,{data:e,to:fe()(t="".concat(i,"/request/")).call(t,n)},n)}))})};var Sa=Zr().div.withConfig({displayName:"AllRequestsContainer__HeaderRow",componentId:"k7n8n2-0"})(["display:flex;justify-content:space-between;align-items:center;"]);const ba=function(){var e=ia((function(e){return e.getIn(et)})),t=ia((function(e){return e.getIn(tt)})),n=ya(e,t);return(0,oa.jsxs)("div",{children:[(0,oa.jsxs)(Sa,{children:[(0,oa.jsx)(Kr.Typography,{variant:"h1",children:"Access Requests"}),(0,oa.jsx)(Kr.Button,{color:"primary",component:Jr.Link,to:"".concat(n,"/new"),children:"New Request"})]}),(0,oa.jsx)(va,{})]})},Ea=require("react-router");var xa=n(7116),Aa=n(4310),Ia=n.n(Aa),Ta=n(4074),wa=n.n(Ta),Ca=n(9649),Da=n.n(Ca),Ra=n(368),_a=n.n(Ra),ja=n(3978),Na=n.n(ja);const Pa=require("@fortawesome/pro-regular-svg-icons/faEllipsisV"),Oa=require("@fortawesome/react-fontawesome"),qa=require("@fortawesome/pro-light-svg-icons/faFilePdf"),Ua=require("@fortawesome/pro-light-svg-icons/faFileWord"),ka=require("@fortawesome/pro-regular-svg-icons/faDownload"),La=require("@fortawesome/pro-regular-svg-icons/faTrashAlt");"".concat("audio/","*");var Fa,Ma="".concat("image/","*"),Ha=("".concat("video/","*"),"application/vnd.openxmlformats-officedocument.wordprocessingml.document"),Ba=(u(Fa={},"application/pdf",qa.faFilePdf),u(Fa,Ha,Ua.faFileWord),Fa),Qa=d.DataUtils.getEntityKeyId,Wa=d.DataUtils.getPropertyValue,Ga=qt.DATE_TIME,Ya=qt.FILE_DATA,za=qt.NAME,Va=qt.TYPE,Ka=Zr().img.withConfig({displayName:"AttachmentItem__ImagePreview",componentId:"olj6j0-0"})(["max-height:40px;max-width:40px;"]);const Ja=function(e){var t,n,r=e.divider,a=e.file,i=e.onDelete,o=Qa(a),s=Wa(a,[za,0]),c=Wa(a,[Va,0]),u=Wa(a,[Ya,0]),l=Wa(a,[Ga,0]),p=Bn.DateTime.fromISO(l).toLocaleString(Bn.DateTime.DATE_SHORT);at()(t=ha()(Ba)).call(t,(function(e){var t=fa(e,2),r=t[0],a=t[1];Or()(c).call(c,r)&&(n=a)}));var d=n?(0,oa.jsx)(Oa.FontAwesomeIcon,{fixedWidth:!0,icon:n,size:"2x"}):(0,oa.jsx)(Ka,{src:u});return(0,oa.jsxs)(Kr.ListItem,{divider:r,children:[(0,oa.jsx)(Kr.ListItemAvatar,{children:d}),(0,oa.jsx)(Kr.ListItemText,{primary:s,secondary:p}),(0,oa.jsxs)(Kr.ListItemSecondaryAction,{children:[(0,oa.jsx)("a",{"aria-label":"Download",download:!0,href:u,rel:"noreferrer",target:"_blank",title:"Download",children:(0,oa.jsx)(Kr.IconButton,{children:(0,oa.jsx)(Oa.FontAwesomeIcon,{icon:ka.faDownload,fixedWidth:!0})})}),(0,oa.jsx)(Kr.IconButton,{"aria-label":"Delete",onClick:function(){i(o)},title:"Delete",children:(0,oa.jsx)(Oa.FontAwesomeIcon,{fixedWidth:!0,icon:La.faTrashAlt})})]})]})};var Xa=d.DataUtils.getEntityKeyId;const Za=function(e){var t=e.accessRequestId,n=ia((function(e){return e.getIn(["access","attachments"])})),r=aa();(0,zr.useEffect)((function(){r(U(t))}),[t,r]);var a=function(e){r(L([e]))};return(0,oa.jsx)(Kr.List,{children:kt()(n).call(n,(function(e,t){var r=Xa(e),i=t!==n.size-1;return(0,oa.jsx)(Ja,{divider:i,file:e,onDelete:a},r)}))})};var $a=n(1068),ei=n.n($a);function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c(e,r.key,r)}}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ri=n(189),ai=n(9542);function ii(e,t){return(ii=ai||function(e,t){return e.__proto__=t,e})(e,t)}var oi=n(3882);function si(e){return(si="function"==typeof ie&&"symbol"==typeof oi?function(e){return typeof e}:function(e){return e&&"function"==typeof ie&&e.constructor===ie&&e!==ie.prototype?"symbol":typeof e})(e)}function ci(e,t){return!t||"object"!==si(t)&&"function"!=typeof t?ni(e):t}var ui=n(4889);function li(e){return(li=ai?ui:function(e){return e.__proto__||ui(e)})(e)}var pi,di=n(2762),fi=n.n(di),mi=(u(pi={},"application/pdf",qa.faFilePdf),u(pi,Ha,Ua.faFileWord),pi),hi=Zr().img.withConfig({displayName:"DocumentItem__ImagePreview",componentId:"sc-15vefxs-0"})(["max-height:40px;max-width:40px;"]);const yi=function(e){var t,n,r=e.divider,a=e.file,i=e.index,o=e.onDelete,s=a.name,c=a.type,u=a.base64;at()(t=ha()(mi)).call(t,(function(e){var t=fa(e,2),r=t[0],a=t[1];Or()(c).call(c,r)&&(n=a)}));var l=n?(0,oa.jsx)(Oa.FontAwesomeIcon,{fixedWidth:!0,icon:n,size:"2x"}):(0,oa.jsx)(hi,{src:u});return(0,oa.jsxs)(Kr.ListItem,{divider:r,children:[(0,oa.jsx)(Kr.ListItemAvatar,{children:l}),(0,oa.jsx)(Kr.ListItemText,{primary:s}),(0,oa.jsx)(Kr.ListItemSecondaryAction,{children:(0,oa.jsx)(Kr.IconButton,{"aria-label":"Remove",onClick:function(){o(i)},title:"Remove",children:(0,oa.jsx)(Oa.FontAwesomeIcon,{fixedWidth:!0,icon:La.faTrashAlt})})})]})},gi=require("prop-types");var vi=n.n(gi);const Si=require("file-selector"),bi=require("attr-accept");var Ei=n.n(bi);function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ai(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ii=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},Ti=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},wi=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},Ci={code:"too-many-files",message:"Too many files"};function Di(e,t){var n="application/x-moz-file"===e.type||Ei()(e,t);return[n,n?null:Ii(t)]}function Ri(e,t,n){if(_i(e.size))if(_i(t)&&_i(n)){if(e.size>n)return[!1,Ti(n)];if(e.size<t)return[!1,wi(t)]}else{if(_i(t)&&e.size<t)return[!1,wi(t)];if(_i(n)&&e.size>n)return[!1,Ti(n)]}return[!0,null]}function _i(e){return null!=e}function ji(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles;return!(!i&&t.length>1||i&&o>=1&&t.length>o)&&t.every((function(e){var t=xi(Di(e,n),1)[0],i=xi(Ri(e,r,a),1)[0];return t&&i}))}function Ni(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function Pi(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Oi(e){e.preventDefault()}function qi(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function Ui(e){return-1!==e.indexOf("Edge/")}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return qi(e)||Ui(e)}function Li(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.some((function(t){return!Ni(e)&&t&&t.apply(void 0,[e].concat(r)),Ni(e)}))}}function Fi(e){return function(e){if(Array.isArray(e))return Bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Hi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||Hi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){if(e){if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bi(e,t):void 0}}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){Gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var zi=(0,zr.forwardRef)((function(e,t){var n=e.children,r=Ji(Yi(e,["children"])),a=r.open,i=Yi(r,["open"]);return(0,zr.useImperativeHandle)(t,(function(){return{open:a}}),[a]),Vr().createElement(zr.Fragment,null,n(Wi(Wi({},i),{},{open:a})))}));zi.displayName="Dropzone";var Vi={disabled:!1,getFilesFromEvent:Si.fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};zi.defaultProps=Vi,zi.propTypes={children:vi().func,accept:vi().oneOfType([vi().string,vi().arrayOf(vi().string)]),multiple:vi().bool,preventDropOnDocument:vi().bool,noClick:vi().bool,noKeyboard:vi().bool,noDrag:vi().bool,noDragEventsBubbling:vi().bool,minSize:vi().number,maxSize:vi().number,maxFiles:vi().number,disabled:vi().bool,getFilesFromEvent:vi().func,onFileDialogCancel:vi().func,onDragEnter:vi().func,onDragLeave:vi().func,onDragOver:vi().func,onDrop:vi().func,onDropAccepted:vi().func,onDropRejected:vi().func,validator:vi().func};var Ki={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Wi(Wi({},Vi),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,s=t.multiple,c=t.maxFiles,u=t.onDragEnter,l=t.onDragLeave,p=t.onDragOver,d=t.onDrop,f=t.onDropAccepted,m=t.onDropRejected,h=t.onFileDialogCancel,y=t.preventDropOnDocument,g=t.noClick,v=t.noKeyboard,S=t.noDrag,b=t.noDragEventsBubbling,E=t.validator,x=(0,zr.useRef)(null),A=(0,zr.useRef)(null),I=(0,zr.useReducer)(Xi,Ki),T=Mi(I,2),w=T[0],C=T[1],D=w.isFocused,R=w.isFileDialogActive,_=w.draggedFiles,j=(0,zr.useCallback)((function(){A.current&&(C({type:"openDialog"}),A.current.value=null,A.current.click())}),[C]),N=function(){R&&setTimeout((function(){A.current&&(A.current.files.length||(C({type:"closeDialog"}),"function"==typeof h&&h()))}),300)};(0,zr.useEffect)((function(){return window.addEventListener("focus",N,!1),function(){window.removeEventListener("focus",N,!1)}}),[A,R,h]);var P=(0,zr.useCallback)((function(e){x.current&&x.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),j()))}),[x,A]),O=(0,zr.useCallback)((function(){C({type:"focus"})}),[]),q=(0,zr.useCallback)((function(){C({type:"blur"})}),[]),U=(0,zr.useCallback)((function(){g||(ki()?setTimeout(j,0):j())}),[A,g]),k=(0,zr.useRef)([]),L=function(e){x.current&&x.current.contains(e.target)||(e.preventDefault(),k.current=[])};(0,zr.useEffect)((function(){return y&&(document.addEventListener("dragover",Oi,!1),document.addEventListener("drop",L,!1)),function(){y&&(document.removeEventListener("dragover",Oi),document.removeEventListener("drop",L))}}),[x,y]);var F=(0,zr.useCallback)((function(e){e.preventDefault(),e.persist(),Y(e),k.current=[].concat(Fi(k.current),[e.target]),Pi(e)&&Promise.resolve(a(e)).then((function(t){Ni(e)&&!b||(C({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e))}))}),[a,u,b]),M=(0,zr.useCallback)((function(e){if(e.preventDefault(),e.persist(),Y(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return Pi(e)&&p&&p(e),!1}),[p,b]),H=(0,zr.useCallback)((function(e){e.preventDefault(),e.persist(),Y(e);var t=k.current.filter((function(e){return x.current&&x.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),k.current=t,t.length>0||(C({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Pi(e)&&l&&l(e))}),[x,l,b]),B=(0,zr.useCallback)((function(e){e.preventDefault(),e.persist(),Y(e),k.current=[],Pi(e)&&Promise.resolve(a(e)).then((function(t){if(!Ni(e)||b){var r=[],a=[];t.forEach((function(e){var t=Mi(Di(e,n),2),s=t[0],c=t[1],u=Mi(Ri(e,o,i),2),l=u[0],p=u[1],d=E?E(e):null;if(s&&l&&!d)r.push(e);else{var f=[c,p];d&&(f=f.concat(d)),a.push({file:e,errors:f.filter((function(e){return e}))})}})),(!s&&r.length>1||s&&c>=1&&r.length>c)&&(r.forEach((function(e){a.push({file:e,errors:[Ci]})})),r.splice(0)),C({acceptedFiles:r,fileRejections:a,type:"setFiles"}),d&&d(r,a,e),a.length>0&&m&&m(a,e),r.length>0&&f&&f(r,e)}})),C({type:"reset"})}),[s,n,o,i,c,a,d,f,m,b]),Q=function(e){return r?null:e},W=function(e){return v?null:Q(e)},G=function(e){return S?null:Q(e)},Y=function(e){b&&e.stopPropagation()},z=(0,zr.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,a=e.onKeyDown,i=e.onFocus,o=e.onBlur,s=e.onClick,c=e.onDragEnter,u=e.onDragOver,l=e.onDragLeave,p=e.onDrop,d=Yi(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return Wi(Wi(Gi({onKeyDown:W(Li(a,P)),onFocus:W(Li(i,O)),onBlur:W(Li(o,q)),onClick:Q(Li(s,U)),onDragEnter:G(Li(c,F)),onDragOver:G(Li(u,M)),onDragLeave:G(Li(l,H)),onDrop:G(Li(p,B))},n,x),r||v?{}:{tabIndex:0}),d)}}),[x,P,O,q,U,F,M,H,B,v,S,r]),V=(0,zr.useCallback)((function(e){e.stopPropagation()}),[]),K=(0,zr.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,a=e.onChange,i=e.onClick,o=Yi(e,["refKey","onChange","onClick"]),c=Gi({accept:n,multiple:s,type:"file",style:{display:"none"},onChange:Q(Li(a,B)),onClick:Q(Li(i,V)),autoComplete:"off",tabIndex:-1},r,A);return Wi(Wi({},c),o)}}),[A,n,s,B,r]),J=_.length,X=J>0&&ji({files:_,accept:n,minSize:o,maxSize:i,multiple:s,maxFiles:c}),Z=J>0&&!X;return Wi(Wi({},w),{},{isDragAccept:X,isDragReject:Z,isFocused:D&&!r,getRootProps:z,getInputProps:K,rootRef:x,inputRef:A,open:Q(j)})}function Xi(e,t){switch(t.type){case"focus":return Wi(Wi({},e),{},{isFocused:!0});case"blur":return Wi(Wi({},e),{},{isFocused:!1});case"openDialog":return Wi(Wi({},e),{},{isFileDialogActive:!0});case"closeDialog":return Wi(Wi({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return Wi(Wi({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return Wi(Wi({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Wi(Wi({},e),{},{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}var Zi=Kr.Colors.BLUE,$i=Kr.Colors.NEUTRAL,eo=Kr.Colors.PURPLE,to=Kr.Colors.RED,no=[Ma,"application/pdf",Ha],ro=Zr().div.withConfig({displayName:"Dropzone__DropzoneWrapper",componentId:"j9e9j-0"})(["align-items:center;background-color:",";border-color:",";border-radius:3px;border-style:dashed;border-width:2px;display:flex;flex-direction:column;flex:1;outline:none;padding:32px;transition:border 250ms ease-in-out;"],$i.N50,(function(e){return function(e){return e.isDragAccept?eo.P300:e.isDragReject?to.R300:e.isDragActive?Zi.B300:$i.N100}(e)}));const ao=function(e){var t=e.onDrop,n=Ji({accept:no.join(","),onDrop:t}),r=n.getRootProps,a=n.getInputProps,i=n.isDragActive,o=n.isDragAccept,s=n.isDragReject,c=r(),u=c.onBlur,l=c.onClick,p=c.onDragEnter,d=c.onDragLeave,f=c.onDragOver,m=c.onDrop,h=c.onFocus,y=c.onKeyDown,g=c.ref,v=c.tabIndex,S=a(),b=S.accept,E=S.autoComplete,x=S.multiple,A=S.onChange,I=S.onClick,T=S.ref,w=S.style,C=S.tabIndex,D=S.type;return(0,oa.jsxs)(ro,{isDragActive:i,isDragAccept:o,isDragReject:s,onBlur:u,onClick:l,onDragEnter:p,onDragLeave:d,onDragOver:f,onDrop:m,onFocus:h,onKeyDown:y,ref:g,tabIndex:v,children:[(0,oa.jsx)("input",{accept:b,autoComplete:E,multiple:x,onChange:A,onClick:I,ref:T,style:w,tabIndex:C,type:D}),(0,oa.jsx)(Kr.Typography,{component:"span",children:"Drop files here or click to select."})]})};const io=function(e){var t=e.onChange,n=(0,zr.useCallback)((function(e){return t(e)}),[t]);return(0,oa.jsx)(ao,{onDrop:function(e){at()(e).call(e,(function(e){var t=e.name,r=e.type,a=new FileReader;a.onload=function(){var e=a.result;n({file:{base64:e,name:t,type:r}})},a.readAsDataURL(e)}))}})};function oo(e){var t=function(){if("undefined"==typeof Reflect||!ei())return!1;if(ei().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ei()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=li(e);if(t){var a=li(this).constructor;n=ei()(r,arguments,a)}else n=r.apply(this,arguments);return ci(this,n)}}var so=d.ReduxUtils.isSuccess,co=d.ReduxUtils.isPending,uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=ri(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ii(e,t)}(i,e);var t,n,r,a=oo(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),u(ni(t=a.call(this,e)),"getInitialState",(function(){return{files:[],tags:[]}})),u(ni(t),"onDrop",(function(e){var n,r=e.file,a=t.state.files;t.setState({files:fe()(n=[]).call(n,le(a),[r])})})),u(ni(t),"onDelete",(function(e){var n=t.state.files;fi()(n).call(n,e,1),t.setState({files:n})})),u(ni(t),"onUpload",(function(){var e=t.props,n=e.accessRequestId,r=e.actions,a=t.state,i=a.files,o=a.tags;r.uploadAttachments({files:i,tags:o,accessRequestId:n})})),t.state=t.getInitialState(),t}return t=i,(n=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.requestState,n=e.onSuccess;so(t)&&n()}},{key:"componentWillUnmount",value:function(){this.props.actions.resetRequestState(["UPLOAD_ATTACHMENTS"])}},{key:"render",value:function(){var e=this,t=this.state.files,n=this.props.requestState;return(0,oa.jsxs)("div",{children:[(0,oa.jsx)(io,{onChange:this.onDrop}),(0,oa.jsx)(Kr.List,{children:kt()(t).call(t,(function(n,r){var a=r!==t.length-1;return(0,oa.jsx)(yi,{divider:a,file:n,index:r,onDelete:e.onDelete})}))}),(0,oa.jsx)(Kr.Button,{color:"primary",disabled:!t.length,fullWidth:!0,isLoading:co(n),onClick:this.onUpload,children:"Upload"})]})}}])&&ti(t.prototype,n),r&&ti(t,r),i}(zr.Component);const lo=(0,ta.connect)((function(e){return{requestState:e.getIn(["access","UPLOAD_ATTACHMENTS",T])}}),(function(e){return{actions:(0,s.bindActionCreators)({resetRequestState:ne,uploadAttachments:k},e)}}),null,{context:ra})(uo);var po=n(3263),fo=n(5683),mo=n(9356);function ho(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=mo(e);for(r=0;r<i.length;r++)n=i[r],fo(t).call(t,n)>=0||(a[n]=e[n]);return a}(e,t);if(po){var i=po(e);for(r=0;r<i.length;r++)n=i[r],fo(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yo(e,t){var n=Ft()(e);if(Ia()){var r=Ia()(e);t&&(r=D()(r).call(r,(function(t){return wa()(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)at()(n=yo(Object(r),!0)).call(n,(function(t){u(e,t,r[t])}));else if(Da())_a()(e,Da()(r));else{var a;at()(a=yo(Object(r))).call(a,(function(t){Na()(e,t,wa()(r,t))}))}}return e}const vo=function(e){var t=e.children,n=e.value,r=e.index,a=ho(e,["children","value","index"]);return(0,oa.jsx)("div",go(go({"aria-controls":"tabpanel-".concat(r),"aria-labelledby":"tab-".concat(r),hidden:n!==r,id:"tabpanel-".concat(r),role:"tabpanel"},a),{},{children:n===r&&(0,oa.jsx)(Kr.Box,{paddingTop:3,paddingBottom:3,children:t})}))},So=require("lattice-fabricate");var bo=Zr()(So.Form).withConfig({displayName:"styled__EdgelessForm",componentId:"sc-1ycpsik-0"})(["margin:-30px;"]),Eo=Zr().div.withConfig({displayName:"styled__ModalBody",componentId:"sc-1ycpsik-1"})(["max-width:100%;width:","px;"],(function(e){var t=e.width;return"number"==typeof t&&t>0?t:720}));const xo=function(e){var t=e.accessRequestId,n=fa((0,zr.useState)(0),2),r=n[0],a=n[1];return(0,oa.jsxs)(Eo,{children:[(0,oa.jsxs)(Kr.Tabs,{indicatorColor:"primary",onChange:function(e,t){a(t)},textColor:"primary",value:r,children:[(0,oa.jsx)(Kr.Tab,{label:"Manage"}),(0,oa.jsx)(Kr.Tab,{label:"Upload"})]}),(0,oa.jsx)(vo,{index:0,value:r,children:(0,oa.jsx)(Za,{accessRequestId:t})}),(0,oa.jsx)(vo,{index:1,value:r,children:(0,oa.jsx)(lo,{accessRequestId:t,onSuccess:function(){a(0)}})})]})};const Ao=function(e){var t=e.accessRequestId,n=e.isVisible,r=e.onClose;return(0,oa.jsx)(Kr.Modal,{textTitle:"Attachments",isVisible:n,onClose:r,withFooter:!1,children:(0,oa.jsx)(xo,{accessRequestId:t})})};function Io(e,t){var n=Ft()(e);if(Ia()){var r=Ia()(e);t&&(r=D()(r).call(r,(function(t){return wa()(e,t).enumerable}))),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)at()(n=Io(Object(r),!0)).call(n,(function(t){u(e,t,r[t])}));else if(Da())_a()(e,Da()(r));else{var a;at()(a=Io(Object(r))).call(a,(function(t){Na()(e,t,wa()(r,t))}))}}return e}var wo={attachmentsOpen:!1,menuOpen:!1},Co=function(e,t){switch(t.type){case"CLOSE_MENU":return To(To({},e),{},{menuOpen:!1});case"OPEN_MENU":return To(To({},e),{},{menuOpen:!0});case"CLOSE_ATTACHMENTS":return To(To({},e),{},{attachmentsOpen:!1});case"OPEN_ATTACHMENTS":return To(To({},e),{},{attachmentsOpen:!0,menuOpen:!1});default:return e}};const Do=function(e){var t=e.accessRequestId,n=e.onPrint,r=fa((0,zr.useReducer)(Co,wo),2),a=r[0],i=r[1],o=(0,zr.useRef)(null);return(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)(Kr.IconButton,{"aria-controls":a.menuOpen?"access-request-action-menu":void 0,"aria-expanded":a.menuOpen?"true":void 0,"aria-haspopup":"menu","aria-label":"access request action button",onClick:function(){i({type:"OPEN_MENU"})},ref:o,variant:"text",children:(0,oa.jsx)(Oa.FontAwesomeIcon,{fixedWidth:!0,icon:Pa.faEllipsisV})}),(0,oa.jsxs)(Kr.Menu,{anchorEl:o.current,anchorOrigin:{horizontal:"right",vertical:"bottom"},elevation:4,getContentAnchorEl:null,id:"access-request-action-menu",onClose:function(){i({type:"CLOSE_MENU"})},open:a.menuOpen,transformOrigin:{horizontal:"right",vertical:"top"},children:[(0,oa.jsx)(Kr.MenuItem,{onClick:n,children:"Print"}),(0,oa.jsx)(Kr.MenuItem,{onClick:function(){i({type:"OPEN_ATTACHMENTS"})},children:"Manage Attachments"})]}),(0,oa.jsx)(Ao,{accessRequestId:t,isVisible:a.attachmentsOpen,onClose:function(){i({type:"CLOSE_ATTACHMENTS"})}})]})},Ro=require("lodash/merge");var _o=n.n(Ro),jo=new d.Logger("SchemaUtils"),No=function(e,t){var n=t.schema,r=t.uiSchema,a=e.schema,i=void 0===a?{}:a,o=e.uiSchema,s=void 0===o?{}:o;return{schema:_o()(i,n),uiSchema:_o()(s,r)}};const Po=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={schema:{},uiSchema:{}};return e.length!==t.length&&jo.warn("generateReviewSchema","schemas and uiSchemas have mismatching lengths"),at()(e).call(e,(function(n,a){No(r,{schema:e[a],uiSchema:t[a]})})),n&&_o()(r.uiSchema,{"ui:disabled":!0,"ui:readonly":!0}),r};function Oo(e,t){var n=Ft()(e);if(Ia()){var r=Ia()(e);t&&(r=D()(r).call(r,(function(t){return wa()(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)at()(n=Oo(Object(r),!0)).call(n,(function(t){u(e,t,r[t])}));else if(Da())_a()(e,Da()(r));else{var a;at()(a=Oo(Object(r))).call(a,(function(t){Na()(e,t,wa()(r,t))}))}}return e}var Uo=d.DataUtils.getPropertyValue,ko=qt.FORM_DATA,Lo=qt.RJSF_JSON_SCHEMA,Fo=qt.RJSF_UI_SCHEMA,Mo=function(e){var t=e.accessRequestId,n=e.data,r=e.isSubmitting,a=e.fRef,i=aa(),o=Uo(n,[ko,0]),s=Uo(n,[Lo,0]),c=Uo(n,[Fo,0]);try{var u=JSON.parse(o),l=JSON.parse(s),p=JSON.parse(c);if(Ct()(l)&&Ct()(p)){var d=Po(l,p);l=d.schema,p=d.uiSchema}return(0,oa.jsx)(bo,{ref:a,formData:u,isSubmitting:r,onSubmit:function(e){var n=e.formData;i(q({formData:n,entityKeyId:t}))},schema:l,uiSchema:p})}catch(e){return(0,oa.jsx)("div",{children:"An error has occured. Please contact support."})}};const Ho=(0,zr.forwardRef)((function(e,t){return(0,oa.jsx)(Mo,qo(qo({},e),{},{fRef:t}))}));var Bo=Zr().div.withConfig({displayName:"styled__CenterWrapper",componentId:"sc-6qf0vq-0"})(["align-items:center;display:flex;height:100%;justify-content:center;"]),Qo=d.ReduxUtils.isPending,Wo=d.ReduxUtils.isStandby,Go=Zr().div.withConfig({displayName:"EditAccessRequestContainer__Row",componentId:"sc-182kjan-0"})(["display:flex;button{margin-left:auto;}"]);const Yo=function(){var e=aa(),t=(0,zr.useRef)(),n=ia(gn()),r=(0,xa.useReactToPrint)({content:function(){return t.current}}),a=ia((function(e){return e.getIn(["access","UPDATE_ACCESS_REQUEST",T])})),i=ia((function(e){return e.getIn(["access","GET_ACCESS_REQUEST",T])})),o=(0,Ea.useRouteMatch)().params.accessRequestId||"";(0,zr.useEffect)((function(){return e(P(o)),function(){e(ne(["UPDATE_ACCESS_REQUEST"])),e(ne(["GET_ACCESS_REQUEST"])),e({type:"CLEAR_ACCESS_REQUEST"})}}),[o,e]);var s=Qo(a);return(0,oa.jsxs)("div",{children:[(0,oa.jsx)(Go,{children:(0,oa.jsx)(Do,{accessRequestId:o,onPrint:r})}),Qo(i)||Wo(i)?(0,oa.jsx)(Bo,{children:(0,oa.jsx)(Kr.Spinner,{size:"2x"})}):(0,oa.jsx)(Ho,{accessRequestId:o,data:n,isSubmitting:s,ref:t})]})};var zo=[{definitions:{person:{type:"object",properties:{firstName:{type:"string",title:"First Name"},lastName:{type:"string",title:"Last Name"},title:{type:"string",title:"Title"},address:{type:"string",title:"Address"},phoneNumber:{type:"string",title:"Phone Number"},email:{type:"string",title:"Email"}}}},type:"object",title:"Common Application",properties:{projectAdministrativeInformation:{type:"object",title:"Project Administration Information",properties:{projectTitle:{type:"string",title:"Project Title"},principalInvestigator:{title:"Principal Investigator",$ref:"#/definitions/person"},coPrincipalInvestigator:{title:"Co-Principal Investigator",$ref:"#/definitions/person"},projectContact:{title:"Project Contact",$ref:"#/definitions/person"}}}}},{type:"object",title:"Common Application",properties:{funding:{type:"object",title:"Funding",properties:{typeOfFunding:{type:"array",title:"Indicate the type of funding for this research",description:"Check all that apply",items:{type:"string",enum:["Federally Funded","State Funded","University Funded","Privately Funded"]},uniqueItems:!0},fundingDescription:{type:"string",title:"Please describe the source of funding and attach a budget showing how costs for the study will be covered."}}}}},{type:"object",title:"Common Application",properties:{projectUtilization:{type:"object",title:"Project Utilization",properties:{projectUtilizationType:{type:"array",title:"How will the project be utilized?",description:'Check all that apply.\nNote: If you believe the project should be considered "not research" then you must submit the Determination Request Form from the Committee for the Protection of Human Subjects website rather than this form.',items:{type:"string",enum:["Public health surveillance (must be conducted by public health authority)","Program evaluation (used only for internal program improvement purposes)","Generalizable knowledge (publication in scientific journals, scientific presentations, etc.)"]},uniqueItems:!0}}}}},{type:"object",title:"Common Application",properties:{institutionalAffiliation:{type:"object",title:"Institutional Affiliation",properties:{institutionName:{type:"string",title:"Institution Name"},institutionType:{type:"array",title:"Check all that apply",items:{type:"string",enum:["For-profit Educational Institution","Non-profit Educational Institution","Another non-profit entity requesting education-related data","Research Institution"]},uniqueItems:!0},responsibleOfficial:{type:"object",title:"Responsible Official",properties:{name:{type:"string",title:"Name"},title:{type:"string",title:"Title"},phoneNumber:{type:"string",title:"Phone Number"},email:{type:"string",title:"Institutional Email"}}},irbApproval:{type:"boolean",title:"Has the institution's IRB reviewed and approved this project? If Yes, upload a copy of the approval letter.",enumNames:["Yes","No"]},irbRequestingCPHSReview:{type:"boolean",title:"Is the institution's IRB requesting to rely upon CPHS review? If Yes, upload a signed copy of the form available on the CPHS website.",enumNames:["Yes","No"]},cphsRequestingIRBReview:{type:"boolean",title:"Is the CPHS being requested to rely upon the institution's IRB or another IRB? If Yes, please specify the IRB and the justification.",enumNames:["Yes","No"]}}}}},{type:"object",title:"Common Application",properties:{conflictOfInterest:{type:"object",title:"Conflict of Interest",properties:{conflictOfInterest:{type:"boolean",title:"Do any members of the research team, or their spouses or dependent children, have any financial interest related to the work to be conducted as part of this project that will, or could be perceived to, affect the objective conduct of the research, including the interpretation and publication of the findings?",description:"Note: financial interests include but are not limited to:\n• Present or anticipated ownership of stock, stock options, or other financial obligations of the source of funding.\n• Receipt or expectation of payment of any sort in connection with papers, symposia, consulting, editing, etc. from the source of funding.\n• The sale or licensing or anticipated sale or licensing of medical or other products or intellectual property, such as patents, copyrights, or trade secrets to the source of funding or other entities.\n• Any past, present or anticipated receipt of money or other valuable consideration from the source of research funding by the researcher(s), the family of the researcher(s), the research institution, or by an institution in which the researcher(s) or the family of the researcher(s) has an interest as owner, creditor, or officer.",enumNames:["Yes","No"]}},dependencies:{conflictOfInterest:{oneOf:[{properties:{conflictOfInterest:{enum:[!0]},interestedIndividuals:{type:"array",title:"Interested Individuals",items:{type:"object",properties:{firstName:{type:"string",title:"First Name"},lastName:{type:"string",title:"Last Name"},conflictDescription:{type:"string",title:"Conflict Description"}}},default:[{}]}}},{properties:{conflictOfInterest:{enum:[!1]}}}]}}}}},{type:"object",title:"Common Application",properties:{majorResearchQuestions:{type:"object",title:"Major Research Questions",properties:{majorResearchQuestions:{type:"string",title:"What are the major research questions to be addressed in this project? What led to the development of these questions, and why are these questions important? Use terminology that is understandable to the general public."}}}}},{type:"object",title:"Common Application",properties:{procedures:{type:"object",title:"Procedures",properties:{procedureDescription:{type:"string",title:"Describe the procedures for this research. Do not attach grant applications or similar documents. Information in this application must be sufficient to fully explain the procedures without such documents."}}}}},{type:"object",title:"Common Application",properties:{humanSubjects:{type:"object",title:"Human Subjects",properties:{humanSubjectInvolvement:{type:"boolean",title:"Does the project involve contact with human subjects?",enumNames:["Yes","No"]}},dependencies:{humanSubjectInvolvement:{oneOf:[{properties:{humanSubjectInvolvement:{enum:[!0]},humanSubjectDescription:{type:"string",title:"Please describe the nature of the contact (including surveys, interviews, focus groups, etc.) and how long that contact will last (e.g. participants will be interviewed on three occasions for approximately 50 minutes, so the total time for their participation will be 2.5 hours). Explain how the human subjects will be selected, specifying inclusion and exclusion criteria."},specialPopulations:{type:"array",title:"If your study involves contact with human subjects, will it be with any of the special populations listed below?",description:"Check all that apply and upload a completed check list from the CPHS website for populations designated with an asterisk.",items:{type:"string",enum:["Children*","Foster Children","Prisoners*","Pregnant Women*","Human Fetuses","Neonates*","Individuals with Impaired Decision-making Ability","Economically or Educationally Disadvantaged Persons"]},uniqueItems:!0},descriptionOfProceduresObtainingInformedConsent:{type:"string",title:"Provide a description of procedures to be used in obtaining and documenting informed consent (or for minors, informed assent) from participants. See instructions and examples on the CPHS website."},consentAttachmentDescription:{type:"string",title:"Attach copies of consent/assent forms and any other letters, information sheets, or verbal scripts that will be used to obtain informed consent/assent. Also attach the Participant’s Bill of Rights (download it from the CPHS website).\nSee examples of consent and assent forms on the CPHS website. Be sure to include a concise explanation of key information for participants at the beginning of your consent or assent form, as shown in the examples on the website. The same elements that are required in a consent form must be adequately covered in an assent form.\nAssent forms must be understandable to children who are 7-17 years of age. The reading level must be age appropriate, and a shortened form may be needed for younger children or those with more limited reading ability. Different versions of the assent form may be needed if the study involves children of significantly different ages. A question-and-answer format, as shown in the CPHS example of an assent form, may be especially appropriate."},consentWaiverDescription:{type:"string",title:"CPHS may approve the use of a consent/assent procedure which does not include, or which alters, some or all of the elements of informed consent/assent. If a waiver or alteration is being requested, attach a document that explains how the criteria for informed consent or assent will be satisfied."}}},{properties:{humanSubjectInvolvement:{enum:[!1]}}}]}}}}},{type:"object",title:"Common Application",properties:{benefitsAndRisks:{type:"object",title:"Benefits and Risks",properties:{benefitsDescription:{type:"string",title:"Describe the benefits, if any, to the subjects or to society from conducting this project. If no direct benefit is anticipated for the subjects, state that clearly."},risksDescription:{type:"string",title:"Describe the possible risks to participants: physical, psychological, social, economic, loss of data security, and/or loss of confidentiality."},justificationDescription:{type:"string",title:"Describe and justify whether the research is minimal risk or greater than minimal risk."}}}}},{type:"object",title:"Common Application",properties:{protectedHealthInformation:{type:"object",title:"Protected Health Information",properties:{involveProtectedHealthInformation:{type:"boolean",title:"Does the project involve accessing protected health information from a state department?",enumNames:["Yes","No"]}},dependencies:{involveProtectedHealthInformation:{oneOf:[{properties:{involveProtectedHealthInformation:{enum:[!0]},specifyProtectedHealthInformation:{type:"string",title:"If Yes, specify the department, the data set, and attach a list of the data elements you are requesting. For each data element, list the range of dates you are requesting and a justification for the data element. Access will not be granted for data elements lacking justification or requests for more than the minimum data necessary to perform the research. Also upload the application and data dictionary you have submitted to the department. If requesting death data, describe and justify any risk to the estate of a deceased or to a living person by use of the death data."},dataSource:{type:"string",title:"Data Source",enum:["California Department of Aging","California Department of Child Support Services","California Department of Community Services & Development","California Department of Developmental Services","California Department of Healthcare Services","California Department of Managed Healthcare","California Department of Public Health","California Department of Rehabilitation","California Department of Social Services","California Department of State Hospitals","Office of Health Information Integrity","Office of Law Enforcement Support","Office of Statewide Health Planning & Development","Office of Systems Integration","Office of the Patient Advocate","Other State Department"]},dataSet:{type:"string",title:"Data Set"}}},{properties:{involveProtectedHealthInformation:{enum:[!1]}}}]}}}}},{type:"object",title:"Common Application",properties:{personalIdentifiers:{type:"object",title:"Personal Identifiers",properties:{usePersonalIdentifiers:{type:"boolean",title:"Will you be using any of the following personal identifiers?",enumNames:["Yes","No"]}},dependencies:{usePersonalIdentifiers:{oneOf:[{properties:{usePersonalIdentifiers:{enum:[!0]},personalIdentifierTypes:{type:"array",title:"If yes, check all that apply.",items:{type:"string",enum:["Name","Address (all geographic subdivisions smaller than state, including street address, city, county, and zip code)","Dates (all elements of dates related to an individual, except years, including birth date, admission date, discharge date, date of death, and exact age if over 89)","Telephone Numbers","Fax Number","Email Address","Social Security Number","Medical Record Number","Health Plan Beneficiary Number","Account Number","Certificate or License Number","Vehicle Identifier","Device (e.g. cell phone or computer) identifier","Web URL","Internet Protocol (IP) Address","Finger or Voice Print or Other Biometric Identifier","Photographic Image - no limited to images of the face.","Any other characteristic that could uniquely identify the individual"]},uniqueItems:!0},explainObtainingConsent:{type:"string",title:"Explain how consent was or will be obtained from the individuals for your use of this information."},explainWhyConsentCannotBeObtained:{type:"string",title:"If you are requesting a HIPAA Waiver of Authorization, explain why consent cannot be obtained from the individuals."}}},{properties:{usePersonalIdentifiers:{enum:[!1]}}}]}}}}},{type:"object",title:"Common Application",properties:{dataUseAgreement:{type:"object",title:"Data Use Agreement",properties:{obtainDataUseAgreement:{type:"boolean",title:"Will you obtain a Data Use Agreement (DUA) with each department from which you are requesting data? If yes, upload the document(s).",enumNames:["Yes","No"]}},dependencies:{obtainDataUseAgreement:{oneOf:[{properties:{obtainDataUseAgreement:{enum:[!0]},cphsApprovalRequiredForExecution:{type:"boolean",title:"If Yes, is CPHS approval required for execution of the DUA?",enumNames:["Yes","No"]}}},{properties:{obtainDataUseAgreement:{enum:[!1]},explainWhyDUANotObtained:{type:"string",title:"If No, please explain."}}}]}}}}},{type:"object",title:"Common Application",properties:{deidentifiedAnalysis:{type:"object",title:"De-identified Analysis",properties:{analysisDataDeidentified:{type:"boolean",title:"Will analysis data be de-identified?",enumNames:["Yes","No"]},whichPersonalIdentifiersRemovedOrRetained:{type:"string",title:"What personal identifiers will be removed and which ones, if any, will be retained in the data?"}},dependencies:{analysisDataDeidentified:{oneOf:[{properties:{analysisDataDeidentified:{enum:[!0]},describeWhenAndHowDataIsDeidentified:{type:"string",title:"If yes, describe when and how."}}},{properties:{analysisDataDeidentified:{enum:[!1]}}}]}}}}},{type:"object",title:"Common Application",properties:{personalIdentifierStorage:{type:"object",title:"Personal Identifier Storage",properties:{personalIdentifiersStoredSeparately:{type:"boolean",title:"Will personal identifiers be stored separately from analysis data?",enumNames:["Yes","No"]}},dependencies:{personalIdentifiersStoredSeparately:{oneOf:[{properties:{personalIdentifiersStoredSeparately:{enum:[!0]},explainWhenPersonalIdentifiersWillBeDestroyed:{type:"string",title:"If Yes, explain when the personal identifiers will be destroyed."}}},{properties:{personalIdentifiersStoredSeparately:{enum:[!1]}}}]}}}}},{type:"object",title:"Common Application",properties:{dataLinkage:{type:"object",title:"Data Linkage",properties:{willDataBeLinkedToAnotherDataSet:{type:"boolean",title:"Will data be linked to another data set?",enumNames:["Yes","No"]}},dependencies:{willDataBeLinkedToAnotherDataSet:{oneOf:[{properties:{willDataBeLinkedToAnotherDataSet:{enum:[!0]},whoWillLinkData:{type:"string",title:"If yes, who will do the linking? Your research team? A State Department? If so, which one(s)? If you will provide a finder file for a state department to perform the linkage, please describe. A third party? If a third party will be used to link data, provide evidence of the third party’s ability to protect personally identifiable data, including the third party’s ability to comply with all CPHS data security requirements."},whatProceduresSoftwareForLinking:{type:"string",title:"What procedures and/or software will be used?"},whatVariablesUsedForLinking:{type:"string",title:"What variables will be used?"}}},{properties:{willDataBeLinkedToAnotherDataSet:{enum:[!1]}}}]}}}}},{type:"object",title:"Common Application",properties:{dataStorageLocation:{type:"object",title:"Where will the data be stored?",properties:{institutionName:{type:"string",title:"Institution Name"},physicalAddress:{type:"string",title:"Physical Address"},secondaryAddress:{type:"string",title:"Secondary Address, if any"}}}}},{type:"object",title:"Common Application",properties:{thirdPartyManagement:{type:"object",title:"Third-Party Mangement",properties:{thirdPartyManagement:{type:"boolean",title:"Will a third-party business/contractor be managing any of the data?",description:"If Yes, please specify and provide assurance in the data security letter (item #25) that all data security requirements will be met.",enumNames:["Yes","No"]}}}}},{type:"object",title:"Common Application",properties:{cloudStorage:{type:"object",title:"Cloud Storage",properties:{cloudStorage:{type:"boolean",title:"Will any of the data be stored on a cloud server?",description:"If Yes, please specify and provide assurance in the data security letter (item #25) that all data security requirements will be met.",enumNames:["Yes","No"]}}}}},{type:"object",title:"Common Application",properties:{dataDestruction:{type:"object",title:"Data Destruction",properties:{description:{type:"string",title:"Explain how and when the data will be destroyed."}}}}},{type:"object",title:"Common Application",properties:{dataBreachCompliance:{type:"object",title:"Data Breach Compliance",properties:{dataBreachCompliance:{type:"boolean",title:"Do you agree to comply with CHHS department-specific instructions in the event of a data breach?",enumNames:["Yes","No"]}},dependencies:{dataBreachCompliance:{oneOf:[{properties:{dataBreachCompliance:{enum:[!0]}}},{properties:{dataBreachCompliance:{enum:[!1]},explainDataBreachNoncompliance:{type:"string",title:"If No, explain."}}}]}}}}},{type:"object",title:"Common Application",properties:{departmentSupportDataReleaseLetter:{type:"object",title:"Department Support/Data Release Letter",properties:{departmentSupportDataReleaseLetter:{type:"string",title:"Obtain and upload a department support/data release letter. This is a statement from the state agency or department you are receiving information from. It must be on that agency’s/department’s letterhead and should indicate both (1) that the release of the desired data is legal and (2) that the agency is willing to release the data to you. If you are not receiving data, the letter should indicate that the department is supportive of your research."}}}}},{type:"object",title:"Common Application",properties:{dataSecurityLetter:{type:"object",title:"Data Security Letter",properties:{dataSecurityLetter:{type:"string",title:"Upload a data security letter, on institutional letterhead, signed by the institution’s Chief Information Officer, Privacy Officer, Security Officer or equivalent and by the Principal Investigator. The letter must provide assurance that the study will meet all CPHS Data Security Requirements (see the CPHS website) and the data security requirements of state agencies from which data is requested. If there are any exceptions, explain why they are necessary and what alternate procedures will provide similar data security. See example of a data security letter on the CPHS website. Attach a data security checklist verifying which requirements are met."}}}}}],Vo=[{projectAdministrativeInformation:{classNames:"column-span-12 grid-container",projectTitle:{classNames:"column-span-12"},principalInvestigator:{classNames:"column-span-12 grid-container",firstName:{classNames:"column-span-6"},lastName:{classNames:"column-span-6"},title:{classNames:"column-span-12"},address:{classNames:"column-span-12"},phoneNumber:{classNames:"column-span-6"},email:{classNames:"column-span-6"}},coPrincipalInvestigator:{classNames:"column-span-12 grid-container",firstName:{classNames:"column-span-6"},lastName:{classNames:"column-span-6"},title:{classNames:"column-span-12"},address:{classNames:"column-span-12"},phoneNumber:{classNames:"column-span-6"},email:{classNames:"column-span-6"}},projectContact:{classNames:"column-span-12 grid-container",firstName:{classNames:"column-span-6"},lastName:{classNames:"column-span-6"},title:{classNames:"column-span-12"},address:{classNames:"column-span-12"},phoneNumber:{classNames:"column-span-6"},email:{classNames:"column-span-6"}}}},{classNames:"column-span-12",funding:{classNames:"column-span-12 grid-container",typeOfFunding:{classNames:"column-span-12","ui:widget":"checkboxes","ui:options":{withOther:!0}},fundingDescription:{classNames:"column-span-12","ui:widget":"textarea"}}},{projectUtilization:{classNames:"column-span-12",projectUtilizationType:{classNames:"column-span-12","ui:widget":"checkboxes","ui:options":{withOther:!0}}}},{institutionalAffiliation:{classNames:"column-span-12 grid-container",institutionName:{classNames:"column-span-12"},institutionType:{classNames:"column-span-12","ui:widget":"checkboxes","ui:options":{withOther:!0}},responsibleOfficial:{classNames:"column-span-12 grid-container",name:{classNames:"column-span-12"},title:{classNames:"column-span-12"},phoneNumber:{classNames:"column-span-12"},email:{classNames:"column-span-12"}},irbApproval:{classNames:"column-span-12","ui:widget":"radio"},irbRequestingCPHSReview:{classNames:"column-span-12","ui:widget":"radio"},cphsRequestingIRBReview:{classNames:"column-span-12","ui:widget":"radio"}}},{conflictOfInterest:{classNames:"column-span-12 grid-container",conflictOfInterest:{classNames:"column-span-12","ui:widget":"radio"},interestedIndividuals:{classNames:"column-span-12","ui:options":{addButtonText:"+ Add Individual",orderable:!1},items:{classNames:"grid-container",firstName:{classNames:"column-span-6"},lastName:{classNames:"column-span-6"},conflictDescription:{classNames:"column-span-12","ui:widget":"textarea"}}}}},{majorResearchQuestions:{classNames:"column-span-12 grid-container",majorResearchQuestions:{classNames:"column-span-12","ui:widget":"textarea"}}},{procedures:{classNames:"column-span-12 grid-container",procedureDescription:{classNames:"column-span-12","ui:widget":"textarea"}}},{humanSubjects:{classNames:"column-span-12 grid-container",humanSubjectInvolvement:{classNames:"column-span-12","ui:widget":"radio"},humanSubjectDescription:{classNames:"column-span-12","ui:widget":"textarea"},specialPopulations:{classNames:"column-span-12","ui:widget":"checkboxes","ui:options":{withNone:!0,noneText:"None of the above"}},descriptionOfProceduresObtainingInformedConsent:{classNames:"column-span-12","ui:widget":"textarea"},consentAttachmentDescription:{classNames:"column-span-12","ui:field":"ParagraphField"},consentWaiverDescription:{classNames:"column-span-12","ui:field":"ParagraphField"}}},{benefitsAndRisks:{classNames:"column-span-12 grid-container",benefitsDescription:{classNames:"column-span-12","ui:widget":"textarea"},risksDescription:{classNames:"column-span-12","ui:widget":"textarea"},justificationDescription:{classNames:"column-span-12","ui:widget":"textarea"}}},{protectedHealthInformation:{classNames:"column-span-12 grid-container",involveProtectedHealthInformation:{classNames:"column-span-12","ui:widget":"radio"},specifyProtectedHealthInformation:{classNames:"column-span-12","ui:field":"ParagraphField"},dataSource:{classNames:"column-span-12"},dataSet:{classNames:"column-span-12"}}},{personalIdentifiers:{classNames:"column-span-12 grid-container",usePersonalIdentifiers:{classNames:"column-span-12","ui:widget":"radio"},personalIdentifierTypes:{classNames:"column-span-12","ui:widget":"checkboxes"},explainObtainingConsent:{classNames:"column-span-12","ui:widget":"textarea"},explainWhyConsentCannotBeObtained:{classNames:"column-span-12","ui:widget":"textarea"}}},{dataUseAgreement:{classNames:"column-span-12 grid-container",obtainDataUseAgreement:{classNames:"column-span-12","ui:widget":"radio"},cphsApprovalRequiredForExecution:{classNames:"column-span-12","ui:widget":"radio"},explainWhyDUANotObtained:{classNames:"column-span-12","ui:widget":"textarea"}}},{deidentifiedAnalysis:{classNames:"column-span-12 grid-container",analysisDataDeidentified:{classNames:"column-span-12","ui:widget":"radio"},describeWhenAndHowDataIsDeidentified:{classNames:"column-span-12","ui:widget":"textarea"},whichPersonalIdentifiersRemovedOrRetained:{classNames:"column-span-12","ui:widget":"textarea"},"ui:order":["analysisDataDeidentified","describeWhenAndHowDataIsDeidentified","whichPersonalIdentifiersRemovedOrRetained"]}},{personalIdentifierStorage:{classNames:"column-span-12 grid-container",personalIdentifiersStoredSeparately:{classNames:"column-span-12","ui:widget":"radio"},explainWhenPersonalIdentifiersWillBeDestroyed:{classNames:"column-span-12","ui:widget":"textarea"}}},{dataLinkage:{classNames:"column-span-12 grid-container",willDataBeLinkedToAnotherDataSet:{classNames:"column-span-12","ui:widget":"radio"},whoWillLinkData:{classNames:"column-span-12","ui:widget":"textarea"},whatProceduresSoftwareForLinking:{classNames:"column-span-12","ui:widget":"textarea"},whatVariablesUsedForLinking:{classNames:"column-span-12","ui:widget":"textarea"}}},{dataStorageLocation:{classNames:"column-span-12 grid-container",institutionName:{classNames:"column-span-12"},physicalAddress:{classNames:"column-span-12"},secondaryAddress:{classNames:"column-span-12"}}},{thirdPartyManagement:{classNames:"column-span-12 grid-container",thirdPartyManagement:{classNames:"column-span-12","ui:widget":"radio"}}},{cloudStorage:{classNames:"column-span-12 grid-container",cloudStorage:{classNames:"column-span-12","ui:widget":"radio"}}},{dataDestruction:{classNames:"column-span-12 grid-container",description:{classNames:"column-span-12","ui:widget":"textarea"}}},{dataBreachCompliance:{classNames:"column-span-12 grid-container",dataBreachCompliance:{classNames:"column-span-12","ui:widget":"radio"},explainDataBreachNoncompliance:{classNames:"column-span-12","ui:widget":"textarea"}}},{departmentSupportDataReleaseLetter:{classNames:"column-span-12 grid-container",departmentSupportDataReleaseLetter:{classNames:"column-span-12","ui:field":"ParagraphField"}}},{dataSecurityLetter:{classNames:"column-span-12 grid-container",dataSecurityLetter:{classNames:"column-span-12","ui:field":"ParagraphField"}}}],Ko=d.ReduxUtils.isPending,Jo=d.DataUtils.getEntityKeyId,Xo=d.ValidationUtils.isValidUUID,Zo=Zr().div.withConfig({displayName:"CommonApplicationForm__ActionRow",componentId:"sc-1old4ll-0"})(["align-items:center;display:flex;justify-content:space-between;padding:0 30px 30px 30px;"]);const $o=function(){var e=aa(),t=ia(gn()),n=ia((function(e){return e.getIn(["access","SUBMIT_ACCESS_REQUEST",T])})),r=Ko(n),a=Jo(t)||"";(0,zr.useEffect)((function(){return function(){e(ne(["SUBMIT_ACCESS_REQUEST"])),e({type:"CLEAR_ACCESS_REQUEST"})}}),[e]);return(0,oa.jsx)(So.Paged,{onPageChange:function(t,n){Xo(a)?e(q({formData:n,entityKeyId:a})):e(O({formData:n,schema:zo,uiSchema:Vo,type:"Common Application"}))},render:function(t){var n,a=t.formRef,i=t.onBack,o=t.onNext,s=t.page,c=t.pagedData,u=t.validateAndSubmit,l=zo.length,p=s===l-1,d=p?function(){e({route:"/",state:{},type:"GO_TO_ROOT"})}:u;return(0,oa.jsxs)(oa.Fragment,{children:[(0,oa.jsx)(bo,{formData:c,hideSubmit:!0,isSubmitting:r,onSubmit:o,ref:a,schema:zo[s],uiSchema:Vo[s]}),(0,oa.jsxs)(Zo,{children:[(0,oa.jsx)(Kr.Button,{disabled:!(s>0),onClick:i,children:"Back"}),(0,oa.jsx)("span",{children:fe()(n="".concat(s+1," of ")).call(n,l)}),(0,oa.jsx)(Kr.Button,{isLoading:r,mode:"primary",onClick:d,children:p?"Complete Survey":"Next"})]})]})}})};const es=function(){return(0,oa.jsx)($o,{})};var ts=d.ReduxUtils.isPending,ns=d.ReduxUtils.isStandby,rs=d.ValidationUtils.isValidUUID;const as=function(e){var t,n=e.match,r=e.organizationId,a=e.root,i=aa();(0,zr.useEffect)((function(){rs(r)&&i(ke({match:n,organizationId:r,root:a}))}),[i,r,a]);var o=ia((function(e){return e.getIn([h,"INITIALIZE_APPLICATION",T])}));return ts(o)||ns(o)?(0,oa.jsx)(Bo,{children:(0,oa.jsx)(Kr.Spinner,{size:"2x"})}):(0,oa.jsxs)(Jr.Switch,{children:[(0,oa.jsx)(Jr.Route,{path:"".concat(a,"/new"),render:function(){return(0,oa.jsx)(es,{})}}),(0,oa.jsx)(Jr.Route,{path:fe()(t="".concat(a)).call(t,jr),render:function(){return(0,oa.jsx)(Yo,{})}}),(0,oa.jsx)(Jr.Route,{render:function(){return(0,oa.jsx)(ba,{})}})]})};function is(e){var t=e.children;return(0,oa.jsx)(ta.Provider,{context:ra,store:na,children:(0,oa.jsx)(o.ConnectedRouter,{history:Qr,context:ra,children:t})})}const os=function(e){var t=e.match,n=e.organizationId,r=e.root;return(0,oa.jsx)(is,{children:(0,oa.jsx)(as,{match:t,organizationId:n,root:r})})}})(),r})()}));